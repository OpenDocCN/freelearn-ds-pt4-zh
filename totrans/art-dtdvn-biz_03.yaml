- en: '3'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Finding Business Opportunities with Market Insights
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In recent years, the word insight has been used with more frequency among innovation
    market testers. Most of the time it’s utilized without a clear definition, sometimes
    implying that there are hidden patterns in the data that is being utilized, or
    it can be used in the context of business to create new sources of revenue streams,
    to define more clearly the conditions and preferences of a given market, or how
    the different customer preferences vary across different geographies or groups.
  prefs: []
  type: TYPE_NORMAL
- en: 'In this chapter, we will use search engine trends to analyze the performance
    of different financial assets in several markets. Overall, we will focus on the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: Gathering information about the relative performance of different terms using
    the Google Trends data with the Pytrends package
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finding changes in the patterns of those insights to identify shifts in consumer
    preferences
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using information about similar queries to understand the search patterns associated
    with each one of the financial products we are studying
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'After that, we will go through the different stages of the analysis, and by
    the end of the chapter, you will be able to do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Use search engine trends to identify regions that might be susceptible to liking/buying/subscribing
    to a given product or service
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understand that these relationships are changing in their behavior and adapt
    to those changes
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Expand the search space analysis with terms that relate to the original queries
    to gather a better understanding of the underlying market needs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'This chapter covers the following topics:'
  prefs: []
  type: TYPE_NORMAL
- en: Understanding search trends with Pytrends
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing Pytrends and ranking markets
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Finding changes in search trend patterns
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Using similar queries to get insights on new trends
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Analyzing the performance of similar queries in time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let’s start the analysis of trends using the Google Trends API with a given
    set of examples and some hypothetical situations that many companies and businesses
    might face. An example of this is gathering intelligence about a given market
    to advertise new products and services.
  prefs: []
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In order to be able to follow the steps in this chapter you will need to meet
    the following requirements:'
  prefs: []
  type: TYPE_NORMAL
- en: A Jupyter Notebook instance running Python 3.7 and above. You can also use a
    Google Colab notebook to run the steps if you have a Google Drive account.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: An understanding of basic math and statistical concepts.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Understanding search trends with Pytrends
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In marketing, market research refers to finding relevant, actionable, and novel
    knowledge about a given target market, which is always important when planning
    commercial strategies. This means that the intention is to find information that
    allows us to know more about the needs of a given market and how the business
    can meet them with its products and services. We access this knowledge by running
    data analysis to find previously unseen patterns. This new insight allows companies
    to do the following:'
  prefs: []
  type: TYPE_NORMAL
- en: Be able to innovate by actually meeting needs
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Gain a better understanding of the customers in a given market
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Monitor brand awareness, and more
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: In this chapter, we will analyze a set of financial assets and how they perform
    in different markets, and what people are searching for when they search for these
    assets. The four assets we will be tracking in particular are bitcoin, real estate,
    bonds, and stocks. These assets are financial assets in the form of cryptocurrencies,
    the housing market, bonds, which are loans to a given company or government, as
    well as bonds which are a company’s partial ownership. In this case, we will simulate
    a company that is looking to have a particular set of assets and wants to target
    certain markets with information that better meets their search patterns.
  prefs: []
  type: TYPE_NORMAL
- en: We will use the Pytrends package, which accesses the data from the Google Trends
    API, which is freely accessible with some exceptions.
  prefs: []
  type: TYPE_NORMAL
- en: The Google Trends API retrieves the same information as the one shown in the
    web interface on any browser, but it makes it easier to access the data through
    the API in cases where we have large amounts of data.
  prefs: []
  type: TYPE_NORMAL
- en: 'There are some limitations to this data that have to be carefully considered,
    which are the following:'
  prefs: []
  type: TYPE_NORMAL
- en: The API has a limitation on the number of responses that it can retrieve in
    a given amount of time. This means that you cannot make a huge number of requests
    in a short amount of time.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The results are shown in relative terms. The queries used will yield different
    results if we remove one of them and make a new request. This is because the results
    are relative.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The units of measure according to Google are calculated between zero and 100,
    considering the fraction of total searches for a given query in that location.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The requests are limited in the number of terms that you can provide at the
    same time. You can only compare up to five terms in the same request. This limitation
    does not apply to the results, which can be quite extensive sometimes.
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now that we understand what we are looking for, let’s start the analysis.
  prefs: []
  type: TYPE_NORMAL
- en: Installing Pytrends and ranking markets
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'As a first step, we need to install the package that we will use to analyze
    the web search data. We will install the Pytrends package, which is a wrapper
    around the Google Trends API. To do this, open a new Jupyter notebook running
    Python 3.7, and in a new cell run the following command to install the package:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'After the package has been installed, we can start the analysis. We can run
    several types of queries to the API, which are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: Interest over time
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Historical hourly interest
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Interest by region
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Related topics
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Related queries
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Trending searches
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Real-time search trends
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Top charts
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Suggestions
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'In this case, we want to obtain information about where the interest per region
    in a given set of terms is. These are steps that we will follow:'
  prefs: []
  type: TYPE_NORMAL
- en: Import the `pandas` package for storing the results and plotting the data.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Initialize the Pytrends API and we will pass a set of search terms and build
    the payload using the last 12 months as a parameter of the search.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Finally, we will store the results in a `pandas` DataFrame named `regiondf_12m`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE2]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE3]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE4]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE5]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE6]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE7]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE8]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE9]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE10]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE11]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE12]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: In the result, it might be the case that some regions will have no results for
    the search terms that we are looking for, so we can remove them by summing the
    rows and checking whether the sum equals zero. If it does, we will remove this
    row. If you try to make too many requests in a given amount of time, Google will
    restrict you from making new queries and you will receive an error with code 429,
    which indicates that you might need to wait until you make can more queries.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we can use this logic to create the mask between brackets that is passed
    to the `regiondf_12m` DataFrame to remove the rows with no results:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE14]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Finally, we can visualize the results by using the `plot` method of the `pandas`
    DataFrame to create a bar chart showing the results:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE15]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE16]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE17]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Executing the previous block of code will prompt us with a result similar to
    this one:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.1: Relative search trend importance by region in the last 12 months
    ](img/B19026_03_1.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.1: Relative search trend importance by region in the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: Here, it is important to remember that the search trend is modeled as a fraction
    of the total searches in a given area, so all these results are relative only
    to the region that they indicate.
  prefs: []
  type: TYPE_NORMAL
- en: Trying to analyze the results from only this bar chart might be a little difficult,
    so we will dive into the specifics of each one of the search terms we analyzed.
  prefs: []
  type: TYPE_NORMAL
- en: 'We will now plot the regions where the search term `bitcoin` has performed
    better in the last 12 months. To do this, we need to select the column, sort the
    values in ascending order, and use the `plot` method to draw a bar chart indicating
    the regions where the search term was a larger relative fraction of the total
    regional searches:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE18]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE19]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This code generates the following result:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.2: Countries where bitcoin was a top search trend in the last 12
    months ](img/B19026_03_2.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.2: Countries where bitcoin was a top search trend in the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: This graph shows us the countries where `bitcoin` has been a popular search
    trend in the last 12 months. This can be an indicator of the maturity of a given
    trend in a market because it means that there has been a constant search relative
    to other search trends for these locations for a period of at least a year.
  prefs: []
  type: TYPE_NORMAL
- en: Next, we will do the same for the rest of the search terms and we will compare
    the difference between the given markets.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'The next block of code filters, sorts, and plots the data in the same way but
    in this case for the `real estate` search term:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE20]'
  prefs: []
  type: TYPE_PRE
- en: 'The result of this block is a bar chart showing the results of searches for
    this term in different regions:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.3: Countries where real estate was a top search trend in the last
    12 months ](img/B19026_03_3.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.3: Countries where real estate was a top search trend in the last
    12 months'
  prefs: []
  type: TYPE_NORMAL
- en: As a first difference, we can see that the results for real estate differ in
    the distribution of the results. While we can see in *Figure 3**.1* that the results
    tend to be more evenly distributed among the results, in the real estate results
    the data shows that only a certain number of countries have a relatively large
    number of searches for this term. This might be an indication that this type of
    investment is much tighter to the local regulations and conditions. We can see
    that Australia, New Zealand, the USA, and Canada are the only countries that represent
    more than 40 points.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next block of code will show us the performance of the search term stocks:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE21]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE22]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This shows us the results of the `stocks` search term in the last 12 months:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.4: Countries where stocks were a top search trend in the last 12
    months ](img/B19026_03_4.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.4: Countries where stocks were a top search trend in the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: Here, the tendency tends to repeat but in different countries. In this case,
    the top five countries are India, the USA, the Philippines, Canada, and Saudi
    Arabia. Here, the difference lies in the fact that India is the only country that
    surpasses the mark of 40 points. This might be a good way to infer how the people
    in these regions are thinking in terms of investment options.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, we need to repeat the same process but for the `bonds` search term
    by changing the column in the code used before:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE23]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE24]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Executing this code will return the following result:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.5: Countries where bonds were a top search trend in the last 12
    months ](img/B19026_03_5.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.5: Countries where bonds were a top search trend in the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: It can be seen that bonds seem to be an option less used by the users searching
    for investment options on Google. The fact that Australia is the leading country
    in terms of the proportion of searches for bonds along with real estate suggests
    that bonds and real estate seem to be an option that is more attractive than stocks
    or bitcoin in Australia.
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have determined the regions where each of the assets performs best
    in terms of popularity, we will study the change in patterns of these trends.
  prefs: []
  type: TYPE_NORMAL
- en: Finding changes in search trend patterns
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Search trends are not a static variable; in fact, they change and vary over
    time. We will get the results of the interest by region in the last 3 months and
    then we will look at changes in the results compared to the ones obtained over
    a period of 12 months:'
  prefs: []
  type: TYPE_NORMAL
- en: To find the changes in search trends patterns, we will build the payload within
    a different timeframe.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Finally, we will store the results in a `pandas` DataFrame named `regiondf_3m`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE25]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE26]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE27]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE28]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE29]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We need to remove the rows that don’t have results for the search terms specified:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE30]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE31]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Now, we can visualize the results using the `plot` method of the `pandas` DataFrame:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE32]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE33]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This code yields the next visualization:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.6: Interest over time in the last 3 months ](img/B19026_03_6.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.6: Interest over time in the last 3 months'
  prefs: []
  type: TYPE_NORMAL
- en: 'At a glance, it would be very complicated to find any possible changes in the
    results so we will arrange the data in such a way that we will just display the
    changes in these trends:'
  prefs: []
  type: TYPE_NORMAL
- en: 'The first step is to create a DataFrame that contains the information from
    both the last 12 months and the last 3 months:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE34]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE35]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE36]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE37]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE38]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE39]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE40]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE41]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE42]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: Here, the DataFrame is constructed by concatenating the results of the different
    search terms.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next, we need to rename the columns and create columns that are the differences
    in the interest in the search terms over time:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE43]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE44]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE45]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE46]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE47]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE48]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE49]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE50]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE51]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Now, we can limit the values to the newly created columns:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE52]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE53]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE54]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE55]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This produces the next result, which shows us the relative changes in search
    trends:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.7: Relative differences between the last 3 and 12 months compared
    ](img/B19026_03_7.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.7: Relative differences between the last 3 and 12 months compared'
  prefs: []
  type: TYPE_NORMAL
- en: 'Some countries have no changes, so we will filter them out by summing across
    the axis and comparing this result to zero to create a mask that we can use to
    filter out these cases:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE56]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE57]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE58]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE59]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: It’s important to note that this comparison is made over absolute values only.
  prefs: []
  type: TYPE_NORMAL
- en: The preceding code shows us the results that have now been filtered.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.8: Filtered results of relative differences ](img/B19026_03_8.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.8: Filtered results of relative differences'
  prefs: []
  type: TYPE_NORMAL
- en: Now, we can visualize the results obtained. We will first look at the regions
    where there has been a change in the searches of the term stock.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'To do this, we will use the results in *Figure 3**.8* to filter them by the
    column we want and filter out the rows where there was no change, sort in ascending
    order and then visualize the results using the plot method of the `pandas` DataFrame:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE60]'
  prefs: []
  type: TYPE_PRE
- en: 'This produces the next result:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.9: Countries where the search term stocks changed in popularity
    over the few 12 months ](img/B19026_03_9.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.9: Countries where the search term stocks changed in popularity over
    the few 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: The results show us that in comparison, the popularity of stocks as a search
    trend has been consolidated in the UAE and the USA, while they have reduced in
    popularity in Pakistan and Russia. These results cannot be directly interpreted
    as an indication of a change of perception about the value of the asset itself,
    but rather as an indication of the amount of search traffic. An increase in traffic
    can be due because of both positive and negative reasons, so it’s always important
    to dive in deeper.
  prefs: []
  type: TYPE_NORMAL
- en: 'Now, we will look at the difference in changes in search trends for `bitcoin`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE61]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE62]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The code generates the next graph:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.10: Countries where the search term bitcoin has changed in popularity
    over the last 12 months ](img/B19026_03_10.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.10: Countries where the search term bitcoin has changed in popularity
    over the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: One of the first things to note about this graph is that the majority of changes
    in recent months have been positive rather than negative. This could be an indication
    of a trend in even wider global adoption over the last few months.
  prefs: []
  type: TYPE_NORMAL
- en: The countries leading this chart in terms of growth are New Zealand, Pakistan,
    and South Africa, while the UAE is leading the decline.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next block of code illustrates the same effect in the case of `bonds`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE63]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE64]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'The results are shown in the next graph:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.11: Countries where the search term bond has changed in popularity
    over the last 12 months ](img/B19026_03_11.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.11: Countries where the search term bond has changed in popularity
    over the last 12 months'
  prefs: []
  type: TYPE_NORMAL
- en: There can be seen an interesting change in trend in which now the vast majority
    of the countries have experienced a decline in the search term. This might be
    an indication of a consistent change in investment patterns globally, which affects
    some countries more than others. It is also noticeable that New Zealand now leads
    the countries with the largest decline in search trends over the analyzed period
    when in the case of bitcoin, it was leading the positive growth. This is also
    the case in the US, where there has a descending trend, but in the case of the
    search term `stocks`, it showed a positive change.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, the next block of code shows the search variations in the search term
    `real estate`:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE65]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '![Figure 3.12: Countries where the search term real estate has changed in popularity
    over the last months ](img/B19026_03_12.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.12: Countries where the search term real estate has changed in popularity
    over the last months'
  prefs: []
  type: TYPE_NORMAL
- en: In this case, the change can also be seen as more globally negative than positive.
    Although some countries experienced a positive change, such as Vietnam and Thailand,
    more of the cases have seen a reduction in the search term. This can not only
    be caused by investment decisions but also by search patterns. Depending on the
    region, in most cases, real estate can be seen as an investment, and in other
    cases, it is only for living and commercial purposes.
  prefs: []
  type: TYPE_NORMAL
- en: In the next section, we will dive more into the countries that experienced significant
    changes and try to understand the cause in more detail.
  prefs: []
  type: TYPE_NORMAL
- en: Using related queries to get insights on new trends
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: If we want to find more information about the terms that are most associated
    with the search terms we are looking for, we can use the related queries to obtain
    queries that are similar to the ones we are searching for. This is useful because
    it provides not only contextual information but also information about trends
    that can be further analyzed.
  prefs: []
  type: TYPE_NORMAL
- en: 'In the next block of code, we will define a series of regions in which we want
    to look for the related queries for a given timeframe. In this case, we will be
    looking at the USA, Canada, New Zealand, and Australia. The results will be arranged
    into a single `pandas` DataFrame:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE66]'
  prefs: []
  type: TYPE_PRE
- en: This code will loop over the defined regions and concatenate the results of
    related queries that are the top results of the given timeframe, and also the
    ones that are rising in that given region.
  prefs: []
  type: TYPE_NORMAL
- en: 'Finally, we reset the index and display the first 10 rows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE67]'
  prefs: []
  type: TYPE_PRE
- en: 'This results in the following output:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.13: Similar queries to bitcoin in the US region ](img/B19026_03_13.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.13: Similar queries to bitcoin in the US region'
  prefs: []
  type: TYPE_NORMAL
- en: 'We can use the information of related queries to run an analysis on the frequency
    and the terms associated with the original search term. This would give us a better
    context to understand the correlated factors for a given asset in a certain region.
    This means that in this case, we can see that the people searching for bitcoin
    are also searching for Ethereum, so we can expect a certain degree of correlation
    between them:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Let’s use a simple method to show the most frequent terms in these queries
    by using a word cloud to show the most significant terms. We will use `wordcloud`
    and the `matplotlib` package:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE68]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE69]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE70]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE71]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'We will use the results of top related queries in the US associated with the
    term `stocks` as the data:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE72]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE73]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'After this, we will concatenate all the results for the result column, replacing
    the source query to avoid this redundancy and remove the stopwords. Finally, the
    last part of the code will generate the figure and display the results:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE74]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE75]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE76]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE77]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE78]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE79]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE80]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This generates the next word cloud with the size adapted to the relative frequency
    of the term. Take into account that we always need to have at least one word to
    plot, otherwise we will get an error saying that we got 0 words.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.14: Frequent top related  queries to the search term stocks in the
    US ](img/B19026_03_14.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.14: Frequent top related queries to the search term stocks in the
    US'
  prefs: []
  type: TYPE_NORMAL
- en: 'The results show that the term stocks a mostly related to terms such as the
    following:'
  prefs: []
  type: TYPE_NORMAL
- en: '**penny**: Refers to the penny stock market'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**now**, **today**: There is a need for day-to-day frequency of information,
    and live updates'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**dividend**: A preference for stocks that pay dividends'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**amazon**, **tesla**: Stocks that are popular'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**reddit**, **news**: Sources of information'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**buy**, **invest**: The action of the user'
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: This information can be really interesting when trying to gain information about
    the patterns that drive users.
  prefs: []
  type: TYPE_NORMAL
- en: 'Next is the same code used as before, but now it references the rising search
    term stocks in the US:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE81]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE82]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE83]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE84]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE85]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE86]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE87]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE88]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE89]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE90]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: The next figure will show us the terms found in the rising queries related to
    our original search terms. The size of the terms varies according to their frequency,
    providing us with information about their relative importance.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.15: Frequent top queries related to the search term stocks in the
    US ](img/B19026_03_15.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.15: Frequent top queries related to the search term stocks in the
    US'
  prefs: []
  type: TYPE_NORMAL
- en: It shows a different level of information as we can see events currently happening,
    such as the fear of a recession in the short term, indicating a bullish market,
    and some new stock names such as Twitter, Disney, and Haliburton.
  prefs: []
  type: TYPE_NORMAL
- en: 'We repeat the same exercise by looking at the top queries related to the `bitcoin`
    search term in New Zealand:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE91]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE92]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE93]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE94]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE95]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE96]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE97]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE98]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE99]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE100]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: This generates the next word cloud of terms.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.16: Frequent top queries related to the search term bitcoin in New
    Zealand ](img/B19026_03_16.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.16: Frequent top queries related to the search term bitcoin in New
    Zealand'
  prefs: []
  type: TYPE_NORMAL
- en: Here, we can see that there is a relationship between Tesla and bitcoin, as
    well as Dow Jones. The latter can be an indication that the people looking to
    invest in bitcoin already have an investment in stocks, or are considering investing
    in one or the other.
  prefs: []
  type: TYPE_NORMAL
- en: 'The next one focuses on the rising related terms to `bitcoin` in New Zealand:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE101]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE102]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE103]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE104]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE105]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE106]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE107]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE108]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE109]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE110]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: The results are shown in the next word cloud.
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.17: Frequent top queries related to the search term bitcoin in New
    Zealand ](img/B19026_03_17.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.17: Frequent top queries related to the search term bitcoin in New
    Zealand'
  prefs: []
  type: TYPE_NORMAL
- en: The results show the names of other cryptocurrencies such as Cardano and Luna,
    also we can see the term `crash`, possibly associated with the latter.
  prefs: []
  type: TYPE_NORMAL
- en: These visualizations are useful to be able to detect at a glance certain terms
    that are becoming more and more relevant by representing the trending popularity
    of each term using size. Humans are not very good at absorbing a lot of detailed
    information at once, so we need to think about the storytelling of the data in
    advance.
  prefs: []
  type: TYPE_NORMAL
- en: Analyzing the performance of related queries over time
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'After capturing more information about the context, we can track the evolution
    of these queries over time. This could provide us with valuable information about
    local trends that have been rising in importance under our radar. We will do so
    using the following steps:'
  prefs: []
  type: TYPE_NORMAL
- en: 'We will select the rising queries related to bitcoin in the US:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE111]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE112]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This results in the following output:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.18: Rising queries related to bitcoin in the US ](img/B19026_03_18.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.18: Rising queries related to bitcoin in the US'
  prefs: []
  type: TYPE_NORMAL
- en: 'We will use the top five resulting queries to track their performance in the
    last 12 months:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE113]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE114]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE115]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE116]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE117]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE118]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'Finally, we will show the results using the Plotly library to be able to display
    the information more interactively:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '[PRE119]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE120]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: '[PRE121]'
  prefs:
  - PREF_IND
  type: TYPE_PRE
- en: 'This shows us the following graph, where we can see the evolution of the rising
    trends over time:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.19: Rising query performance over time ](img/B19026_03_19.jpg)'
  prefs: []
  type: TYPE_IMG
- en: 'Figure 3.19: Rising query performance over time'
  prefs: []
  type: TYPE_NORMAL
- en: We can see that the queries had a peak around November 2021, with a mixed performance.
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Information about specific live trends in different markets can be expensive
    to obtain, but the use of web search engine traffic can provide us with valuable
    tools to analyze different regions. In this chapter, we have focused on the analysis
    of regions at the country level, but we can also use different regional geo codes,
    such as US-NY representing New York.
  prefs: []
  type: TYPE_NORMAL
- en: This information can be used also in combination with sales data to obtain valuable
    correlations that, with causal analysis, can produce a variable that can be used
    for predicting behavior, as we will see in the next chapters.
  prefs: []
  type: TYPE_NORMAL
- en: The following chapters will continue to focus on the understanding of underlying
    value, but this time, it will be at the level of product characteristics scoring
    with conjoint analysis.
  prefs: []
  type: TYPE_NORMAL
