<html><head></head><body>
<div id="_idContainer136">
<h1 class="chapter-number" id="_idParaDest-53"><a id="_idTextAnchor574"/><span class="koboSpan" id="kobo.1.1">5</span></h1>
<h1 id="_idParaDest-54"><a id="_idTextAnchor575"/><span class="koboSpan" id="kobo.2.1">Selecting the Optimal Price with Price Demand Elasticity</span></h1>
<p><span class="koboSpan" id="kobo.3.1">Price elasticity of demand measures how much a product’s consumption changes in response to price changes. </span><span class="koboSpan" id="kobo.3.2">A good is elastic if a price adjustment results in a significant shift in either supply or demand. </span><span class="koboSpan" id="kobo.3.3">If a price adjustment for the goods does not significantly affect demand or supply, it is inelastic. </span><span class="koboSpan" id="kobo.3.4">The elasticity of a product is impacted by the accessibility of an alternative. </span><span class="koboSpan" id="kobo.3.5">Demand won’t change as the price increases if the product is necessary and there are no suitable alternatives, making </span><span class="No-Break"><span class="koboSpan" id="kobo.4.1">it inelastic.</span></span></p>
<p><span class="koboSpan" id="kobo.5.1">In this chapter, we will learn about </span><span class="No-Break"><span class="koboSpan" id="kobo.6.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.7.1">What is price elasticity and how it can be used to </span><span class="No-Break"><span class="koboSpan" id="kobo.8.1">maximize revenue?</span></span></li>
<li><span class="koboSpan" id="kobo.9.1">Exploring the data to determine pricing patterns and consumer behavior </span><span class="No-Break"><span class="koboSpan" id="kobo.10.1">around them</span></span></li>
<li><span class="koboSpan" id="kobo.11.1">Determining the demand curve for </span><span class="No-Break"><span class="koboSpan" id="kobo.12.1">different products</span></span></li>
<li><span class="koboSpan" id="kobo.13.1">Optimizing the price to maximize revenue for </span><span class="No-Break"><span class="koboSpan" id="kobo.14.1">all items</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.15.1">In this case, we will use food truck sales data to analyze the impact of different </span><span class="No-Break"><span class="koboSpan" id="kobo.16.1">pricing strategies.</span></span></p>
<h1 id="_idParaDest-55"><a id="_idTextAnchor576"/><span class="koboSpan" id="kobo.17.1">Technical requirements</span></h1>
<p><span class="koboSpan" id="kobo.18.1">In order to be able to follow the steps in this chapter, you will need to meet the </span><span class="No-Break"><span class="koboSpan" id="kobo.19.1">next requirements:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.20.1">A Jupyter Notebook instance running Python 3.7 or above. </span><span class="koboSpan" id="kobo.20.2">You can also use the Google Colab notebook to run the steps if you have a Google </span><span class="No-Break"><span class="koboSpan" id="kobo.21.1">Drive account.</span></span></li>
<li><span class="koboSpan" id="kobo.22.1">Understanding of basic math and </span><span class="No-Break"><span class="koboSpan" id="kobo.23.1">statistical concepts.</span></span></li>
</ul>
<h1 id="_idParaDest-56"><a id="_idTextAnchor577"/><span class="koboSpan" id="kobo.24.1">Understanding price demand elasticity</span></h1>
<p><span class="koboSpan" id="kobo.25.1">The concept of price elasticity is used when trying to explain the responsiveness of the number </span><a id="_idIndexMarker219"/><span class="koboSpan" id="kobo.26.1">of goods sold to proportional increases in price. </span><span class="koboSpan" id="kobo.26.2">This is valuable information for managers that need to anticipate how the finance of the company will be affected by price rises </span><span class="No-Break"><span class="koboSpan" id="kobo.27.1">and cuts.</span></span></p>
<p><span class="koboSpan" id="kobo.28.1">Mathematically, it is </span><span class="No-Break"><span class="koboSpan" id="kobo.29.1">as follows:</span></span></p>
<p><span class="koboSpan" id="kobo.30.1"><img alt="" src="image/Formula_05_001.png"/></span></p>
<p><span class="koboSpan" id="kobo.31.1">Here, each term represents </span><span class="No-Break"><span class="koboSpan" id="kobo.32.1">the following:</span></span></p>
<ul>
<li><span class="koboSpan" id="kobo.33.1"><img alt="" src="image/Formula_05_002.png"/></span><span class="koboSpan" id="kobo.34.1">: </span><span class="No-Break"><span class="koboSpan" id="kobo.35.1">Price elasticity</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.36.1">Q</span></em><span class="koboSpan" id="kobo.37.1">: Quantity of the </span><span class="No-Break"><span class="koboSpan" id="kobo.38.1">demanded good</span></span></li>
<li><span class="koboSpan" id="kobo.39.1"><img alt="" src="image/Formula_05_003.png"/></span><span class="koboSpan" id="kobo.40.1">: Variation in the quantity of the </span><span class="No-Break"><span class="koboSpan" id="kobo.41.1">demanded good</span></span></li>
<li><em class="italic"><span class="koboSpan" id="kobo.42.1">P</span></em><span class="koboSpan" id="kobo.43.1">: Price of the </span><span class="No-Break"><span class="koboSpan" id="kobo.44.1">demanded good</span></span></li>
<li><span class="koboSpan" id="kobo.45.1"><img alt="" src="image/Formula_05_004.png"/></span><span class="koboSpan" id="kobo.46.1">: Variation in the price of the </span><span class="No-Break"><span class="koboSpan" id="kobo.47.1">demanded good</span></span></li>
</ul>
<p><span class="koboSpan" id="kobo.48.1">Price elasticity is a measure of how sensitive the quantity required is to price, with nearly all goods seeing a fall in demand when prices rise but some seeing a greater decline. </span><span class="koboSpan" id="kobo.48.2">Price elasticity determines, while holding all other factors constant, the percentage change in quantity demanded by a 1% rise in price. </span><span class="koboSpan" id="kobo.48.3">When the elasticity is -2, the amount demanded decreases by 2% for every 1% increase in price. </span><span class="koboSpan" id="kobo.48.4">Outside of certain circumstances, price elasticity is negative. </span><span class="koboSpan" id="kobo.48.5">When a good is described as having an elasticity of 2, it almost invariably indicates that the formal definition of that elasticity </span><span class="No-Break"><span class="koboSpan" id="kobo.49.1">is -2.</span></span></p>
<p><span class="koboSpan" id="kobo.50.1">The term </span><strong class="bold"><span class="koboSpan" id="kobo.51.1">more elastic</span></strong><span class="koboSpan" id="kobo.52.1"> means that the elasticity of a good is greater, regardless of the sign. </span><span class="koboSpan" id="kobo.52.2">Two uncommon exceptions to the rule of demand, the Veblen and Giffen goods are two groups of goods with positive elasticity. </span><span class="koboSpan" id="kobo.52.3">A good’s demand is considered to be inelastic when its absolute value of elasticity is less than 1, meaning that price changes have a relatively minor impact on the amount demanded. </span><span class="koboSpan" id="kobo.52.4">If a good’s demand is more elastic than 1, it is considered to be elastic. </span><span class="koboSpan" id="kobo.52.5">A good with an elastic demand of -2 has a drop-in quantity that is twice as great as its price rise, whereas a good with an inelastic demand of -0.5 has a decrease in the quantity that is only half as great as the </span><span class="No-Break"><span class="koboSpan" id="kobo.53.1">price increase.</span></span></p>
<p><span class="koboSpan" id="kobo.54.1">When the </span><a id="_idIndexMarker220"/><span class="koboSpan" id="kobo.55.1">price is chosen so that the elasticity is exactly 1, revenue is maximized. </span><span class="koboSpan" id="kobo.55.2">The incidence (or “burden”) of a tax on a good can be predicted using the elasticity of the good. </span><span class="koboSpan" id="kobo.55.3">To ascertain price elasticity, a variety of research techniques are employed, such as test markets, historical sales data analysis, and </span><span class="No-Break"><span class="koboSpan" id="kobo.56.1">conjoint analysis.</span></span></p>
<h1 id="_idParaDest-57"><span class="koboSpan" id="kobo.57.1">Explo</span><a id="_idTextAnchor578"/><span class="koboSpan" id="kobo.58.1">ring the data</span></h1>
<p><span class="koboSpan" id="kobo.59.1">The experiment’s initial data source is the sales of a food truck outside of office buildings. </span><span class="koboSpan" id="kobo.59.2">It’s vital to review excessive prices because of the pressure on costs. </span><span class="koboSpan" id="kobo.59.3">The proprietor of a </span><a id="_idIndexMarker221"/><span class="koboSpan" id="kobo.60.1">food truck must be aware of how a price increase affects the store’s demand for hamburgers. </span><span class="koboSpan" id="kobo.60.2">In other words, to determine how much the price can be raised, it is critical to understand the price elasticity of demand for the burgers in the store. </span><span class="koboSpan" id="kobo.60.3">In actuality, price elasticity measures how much a product’s price </span><span class="No-Break"><span class="koboSpan" id="kobo.61.1">influences demand.</span></span></p>
<p><span class="koboSpan" id="kobo.62.1">We will use the following Python modules in the </span><span class="No-Break"><span class="koboSpan" id="kobo.63.1">next example:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.64.1">Pandas</span></strong><span class="koboSpan" id="kobo.65.1">: A Python </span><a id="_idIndexMarker222"/><span class="koboSpan" id="kobo.66.1">package for data analysis and </span><a id="_idIndexMarker223"/><span class="No-Break"><span class="koboSpan" id="kobo.67.1">data manipulation.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.68.1">NumPy</span></strong><span class="koboSpan" id="kobo.69.1">: This is a </span><a id="_idIndexMarker224"/><span class="koboSpan" id="kobo.70.1">library that adds support for large, multi-dimensional </span><a id="_idIndexMarker225"/><span class="koboSpan" id="kobo.71.1">arrays and matrices, along with a large collection of high-level mathematical functions to operate on </span><span class="No-Break"><span class="koboSpan" id="kobo.72.1">these arrays.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.73.1">statsmodels</span></strong><span class="koboSpan" id="kobo.74.1">: A Python </span><a id="_idIndexMarker226"/><span class="koboSpan" id="kobo.75.1">package that provides a </span><a id="_idIndexMarker227"/><span class="koboSpan" id="kobo.76.1">complement to SciPy for statistical computations, including descriptive statistics and estimation and inference for statistical models. </span><span class="koboSpan" id="kobo.76.2">It provides classes and functions for the estimation of many different statistical models. </span><span class="koboSpan" id="kobo.76.3">It’s a Python package that is used for statistical methods and descriptive statistics, as well as other models’ </span><span class="No-Break"><span class="koboSpan" id="kobo.77.1">statistical models.</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.78.1">Seaborn and Matplotlib</span></strong><span class="koboSpan" id="kobo.79.1">: Python packages for effective </span><span class="No-Break"><span class="koboSpan" id="kobo.80.1">data visualization.</span></span></li>
</ul>
<ol>
<li><span class="koboSpan" id="kobo.81.1">The following </span><a id="_idIndexMarker228"/><span class="koboSpan" id="kobo.82.1">block of code will load </span><a id="_idIndexMarker229"/><span class="koboSpan" id="kobo.83.1">all the required packages as well as load the data and show the first five rows </span><span class="No-Break"><span class="koboSpan" id="kobo.84.1">of </span><a id="_idTextAnchor579"/><span class="koboSpan" id="kobo.85.1">it:</span></span><pre class="console"><span class="koboSpan" id="kobo.86.1">
import pandas as</span><a id="_idTextAnchor580"/><span class="koboSpan" id="kobo.87.1"> pd</span></pre><pre class="console"><span class="koboSpan" id="kobo.88.1">
import numpy as</span><a id="_idTextAnchor581"/><span class="koboSpan" id="kobo.89.1"> np</span></pre><pre class="console"><span class="koboSpan" id="kobo.90.1">
import statsmodels.api as</span><a id="_idTextAnchor582"/><span class="koboSpan" id="kobo.91.1"> sm</span></pre><pre class="console"><span class="koboSpan" id="kobo.92.1">
from statsmodels.formula.api import </span><a id="_idTextAnchor583"/><span class="koboSpan" id="kobo.93.1">ols</span></pre><pre class="console"><span class="koboSpan" id="kobo.94.1">
import matplotlib.pyplot as </span><a id="_idTextAnchor584"/><span class="koboSpan" id="kobo.95.1">plt</span></pre><pre class="console"><span class="koboSpan" id="kobo.96.1">
import seaborn as sns; sns.set(style="ticks", </span></pre><pre class="console"><span class="koboSpan" id="kobo.97.1">
      color_codes=Tr</span><a id="_idTextAnchor585"/><span class="koboSpan" id="kobo.98.1">ue)</span></pre><pre class="console"><span class="koboSpan" id="kobo.99.1">
data = pd.read_csv('foodcar_data.csv',</span></pre><pre class="console"><span class="koboSpan" id="kobo.100.1">
      parse_dates=['DATE</span><a id="_idTextAnchor586"/><span class="koboSpan" id="kobo.101.1">'])</span></pre><pre class="console"><span class="koboSpan" id="kobo.102.1">
data.head()</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.103.1">This results in the next DataFrame, showing the data that contains the transactional data of items sold by a food truck, along with some other </span><span class="No-Break"><span class="koboSpan" id="kobo.104.1">external variables:</span></span><a id="_idTextAnchor587"/></p>
<div>
<div class="IMG---Figure" id="_idContainer115">
<span class="koboSpan" id="kobo.105.1"><img alt="Figure 5.1: Food truck sales data to be analyzed " src="image/B19026_05_1.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.106.1">Figure 5.1: Food truck sales data to be analyzed</span></p>
<p><span class="koboSpan" id="kobo.107.1">The data consists of the </span><span class="No-Break"><span class="koboSpan" id="kobo.108.1">following variables:</span></span></p>
<ul>
<li><strong class="bold"><span class="koboSpan" id="kobo.109.1">SELLER</span></strong><span class="koboSpan" id="kobo.110.1">: Identifier of who sold </span><span class="No-Break"><span class="koboSpan" id="kobo.111.1">the item</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.112.1">CAT</span></strong><span class="koboSpan" id="kobo.113.1">: Variable indicating whether the product was sold by itself (</span><strong class="bold"><span class="koboSpan" id="kobo.114.1">0</span></strong><span class="koboSpan" id="kobo.115.1">) or as part of a </span><span class="No-Break"><span class="koboSpan" id="kobo.116.1">combo (</span></span><span class="No-Break"><strong class="bold"><span class="koboSpan" id="kobo.117.1">2</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.118.1">)</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.119.1">ITEM_ID</span></strong><span class="koboSpan" id="kobo.120.1">: Identifier of the </span><span class="No-Break"><span class="koboSpan" id="kobo.121.1">item sold</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.122.1">ITEM_NAME</span></strong><span class="koboSpan" id="kobo.123.1">: Full name of </span><span class="No-Break"><span class="koboSpan" id="kobo.124.1">the item</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.125.1">DATE</span></strong><span class="koboSpan" id="kobo.126.1">: When the item </span><span class="No-Break"><span class="koboSpan" id="kobo.127.1">was sold</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.128.1">YEAR</span></strong><span class="koboSpan" id="kobo.129.1">: Year extracted from </span><span class="No-Break"><span class="koboSpan" id="kobo.130.1">the date</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.131.1">HOLIDAY</span></strong><span class="koboSpan" id="kobo.132.1">: Boolean variable that indicates whether that day was </span><span class="No-Break"><span class="koboSpan" id="kobo.133.1">a holiday</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.134.1">WEEKEND</span></strong><span class="koboSpan" id="kobo.135.1">: Boolean variable indicating whether it was </span><span class="No-Break"><span class="koboSpan" id="kobo.136.1">a weekend</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.137.1">SCHOOLBREAK</span></strong><span class="koboSpan" id="kobo.138.1">: Boolean variable indicating whether it was a </span><span class="No-Break"><span class="koboSpan" id="kobo.139.1">school break</span></span></li>
<li><strong class="bold"><span class="koboSpan" id="kobo.140.1">AVG_TEMPERATURE</span></strong><span class="koboSpan" id="kobo.141.1">: Temperature that day in </span><span class="No-Break"><span class="koboSpan" id="kobo.142.1">degrees Fahrenheit</span></span></li>
</ul>
<ol>
<li value="2"><span class="koboSpan" id="kobo.143.1">In the </span><a id="_idIndexMarker230"/><span class="koboSpan" id="kobo.144.1">next command, we will run a descriptive </span><a id="_idIndexMarker231"/><span class="koboSpan" id="kobo.145.1">statistical analysis, previously removing the </span><strong class="bold"><span class="koboSpan" id="kobo.146.1">ITEM_ID</span></strong><span class="koboSpan" id="kobo.147.1"> column, because although this is understood as a numeric variable, it represents a </span><span class="No-Break"><span class="koboSpan" id="kobo.148.1">categorical dimens</span><a id="_idTextAnchor588"/><span class="koboSpan" id="kobo.149.1">ion.</span></span><pre class="console"><span class="koboSpan" id="kobo.150.1">
data.drop(['ITEM_ID'],axis=1).describe()</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.151.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.152.1">following output</span><a id="_idTextAnchor589"/><span class="koboSpan" id="kobo.153.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer116">
<span class="koboSpan" id="kobo.154.1"><img alt="Figure 5.2: Statistical description summary of the data " src="image/B19026_05_2.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.155.1">Figure 5.2: Statistical description summary of the data</span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.156.1">One of the things we are interested to know is the different types of products that we </span><a id="_idIndexMarker232"/><span class="koboSpan" id="kobo.157.1">will find in the data. </span><span class="koboSpan" id="kobo.157.2">In this </span><a id="_idIndexMarker233"/><span class="koboSpan" id="kobo.158.1">case, we will just pick the </span><strong class="bold"><span class="koboSpan" id="kobo.159.1">SELLER</span></strong><span class="koboSpan" id="kobo.160.1">, </span><strong class="bold"><span class="koboSpan" id="kobo.161.1">ITEM_ID</span></strong><span class="koboSpan" id="kobo.162.1">, and </span><strong class="bold"><span class="koboSpan" id="kobo.163.1">ITEM_NAME</span></strong><span class="koboSpan" id="kobo.164.1"> data and remove </span><span class="No-Break"><span class="koboSpan" id="kobo.165.1">the duplic</span><a id="_idTextAnchor590"/><span class="koboSpan" id="kobo.166.1">ates:</span></span><pre class="console"><span class="koboSpan" id="kobo.167.1">
d = data[['SELLER','ITEM_ID','ITEM_NAME']].drop_duplica</span><a id="_idTextAnchor591"/><span class="koboSpan" id="kobo.168.1">tes()</span></pre><pre class="console"><span class="koboSpan" id="kobo.169.1">
print(d)</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.170.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.171.1">following outpu</span><a id="_idTextAnchor592"/><span class="koboSpan" id="kobo.172.1">t:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer117">
<span class="koboSpan" id="kobo.173.1"><img alt="Figure 5.3: Products that are being sold " src="image/B19026_05_3.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.174.1">Figure 5.3: Products that are being sold</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.175.1">By transforming this data into dummies, we can see that the seller column actually shows different combinations of products, some of them being sold alone and some of them being sold as combos, such as </span><strong class="bold"><span class="koboSpan" id="kobo.176.1">4104</span></strong><span class="koboSpan" id="kobo.177.1">, which is a burger and a bottle </span><span class="No-Break"><span class="koboSpan" id="kobo.178.1">of wa</span><a id="_idTextAnchor593"/><span class="koboSpan" id="kobo.179.1">ter:</span></span><pre class="console"><span class="koboSpan" id="kobo.180.1">
pd.concat([d.SELLER, pd.get_dummies(d.ITEM_NAME)], axis=1).groupby(d.SELLER).sum().reset_index(drop=True)</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.181.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.182.1">following output</span><a id="_idTextAnchor594"/><span class="koboSpan" id="kobo.183.1">:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer118">
<span class="koboSpan" id="kobo.184.1"><img alt="Figure 5.4: Combination of products sold " src="image/B19026_05_4.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.185.1">Figure 5.4: Combination of products sold</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.186.1">One of the </span><a id="_idIndexMarker234"/><span class="koboSpan" id="kobo.187.1">ways that we can use to start exploring </span><a id="_idIndexMarker235"/><span class="koboSpan" id="kobo.188.1">the data is by running a pair plot. </span><span class="koboSpan" id="kobo.188.2">This Seaborn plot allows us to see the distribution of the values, as well as the relationship between the variables. </span><span class="koboSpan" id="kobo.188.3">It’s really useful if we want to be able to see any possible relationship between them at </span><span class="No-Break"><span class="koboSpan" id="kobo.189.1">first gl</span><a id="_idTextAnchor595"/><span class="koboSpan" id="kobo.190.1">ance:</span></span><pre class="console"><span class="koboSpan" id="kobo.191.1">
sns.pairplot(data[['PRICE','QUANTITY']],height=5,aspect=1.2)</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.192.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.193.1">following outpu</span><a id="_idTextAnchor596"/><span class="koboSpan" id="kobo.194.1">t:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer119">
<span class="koboSpan" id="kobo.195.1"><img alt="Figure 5.5: Pair plot of price and quantity " src="image/B19026_05_5.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.196.1">Figure 5.5: Pair plot of price and quantity</span></p>
<p><span class="koboSpan" id="kobo.197.1">At a </span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.198.1">simple glance, we can see that </span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.199.1">there are many superimposed trends in the relationship between price and quantity. </span><span class="koboSpan" id="kobo.199.2">We can also see two very distinct groups, one placed in the lower-left quadrant and the other in the </span><span class="No-Break"><span class="koboSpan" id="kobo.200.1">upper-right quadrant.</span></span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.201.1">We can explore the relationship between price and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.202.1">CAT</span></strong><span class="koboSpan" id="kobo.203.1"> variable to dive into these differences using the Seaborn histogram plot and using the </span><strong class="source-inline"><span class="koboSpan" id="kobo.204.1">CAT</span></strong><span class="koboSpan" id="kobo.205.1"> variable as the hue. </span><span class="koboSpan" id="kobo.205.2">The next block of code does exactly this, first by creating a </span><strong class="source-inline"><span class="koboSpan" id="kobo.206.1">matplotlib</span></strong><span class="koboSpan" id="kobo.207.1"> figure, which is then populated with the defined histogram. </span><span class="koboSpan" id="kobo.207.2">This is useful for certain kinds of Seaborn plots that require this setup to define the figure </span><span class="No-Break"><span class="koboSpan" id="kobo.208.1">size pro</span><a id="_idTextAnchor597"/><span class="koboSpan" id="kobo.209.1">perly:</span></span><pre class="console"><span class="koboSpan" id="kobo.210.1">
f, ax = plt.subplots(figsize=(1</span><a id="_idTextAnchor598"/><span class="koboSpan" id="kobo.211.1">0, 6))</span></pre><pre class="console"><span class="koboSpan" id="kobo.212.1">
fig = sns.histplot(x='PRICE',data=data,hue='CAT',</span></pre><pre class="console"><span class="koboSpan" id="kobo.213.1">
palette=['red','blue'])</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.214.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.215.1">following outp</span><a id="_idTextAnchor599"/><span class="koboSpan" id="kobo.216.1">ut:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer120">
<span class="koboSpan" id="kobo.217.1"><img alt="Figure 5.6: Price histogram differentiated by CAT " src="image/B19026_05_6.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.218.1">Figure 5.6: Price histogram differentiated by CAT</span></p>
<p><span class="koboSpan" id="kobo.219.1">We can </span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.220.1">see in the preceding plot that the products </span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.221.1">that have a </span><strong class="source-inline"><span class="koboSpan" id="kobo.222.1">CAT</span></strong><span class="koboSpan" id="kobo.223.1"> value of </span><strong class="bold"><span class="koboSpan" id="kobo.224.1">2</span></strong><span class="koboSpan" id="kobo.225.1"> are more highly priced than the </span><span class="No-Break"><span class="koboSpan" id="kobo.226.1">other ones.</span></span></p>
<ol>
<li value="7"><span class="koboSpan" id="kobo.227.1">These are the product sold in combos, so this is a reasonable outcome. </span><span class="koboSpan" id="kobo.227.2">We can keep exploring these price differences by running a new pair plot – this time, looking for the relationship between </span><strong class="source-inline"><span class="koboSpan" id="kobo.228.1">PRICE</span></strong><span class="koboSpan" id="kobo.229.1">, </span><strong class="source-inline"><span class="koboSpan" id="kobo.230.1">QUANTITY</span></strong><span class="koboSpan" id="kobo.231.1">, </span><span class="No-Break"><span class="koboSpan" id="kobo.232.1">and </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.233.1">ITE</span><a id="_idTextAnchor600"/><span class="koboSpan" id="kobo.234.1">M_NAME</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.235.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.236.1">
sns.pairplot(data[['PRICE','QUANTITY','ITEM_NAME']], hue = 'ITEM_NAME', plot_kws={'alpha':0.1},height=5,aspect=1.2)</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.237.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.238.1">following outp</span><a id="_idTextAnchor601"/><span class="koboSpan" id="kobo.239.1">ut:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer121">
<span class="koboSpan" id="kobo.240.1"><img alt="Figure 5.7: Price, quantity, and item name pair plot " src="image/B19026_05_7.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.241.1">Figure 5.7: Price, quantity, and item name pair plot</span></p>
<p><span class="koboSpan" id="kobo.242.1">We can see now the differences between the prices of each item in a bit more detail. </span><span class="koboSpan" id="kobo.242.2">In </span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.243.1">this case, the burgers </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.244.1">have the highest price, and water is the cheapest (again, reasonable). </span><span class="koboSpan" id="kobo.244.2">What is interesting to see is that for the same items, we have different prices, and differences in the number of units </span><span class="No-Break"><span class="koboSpan" id="kobo.245.1">being sold.</span></span></p>
<p><span class="koboSpan" id="kobo.246.1">We can conclude then that is necessary to analyze the price difference by having a clear distinction per item, as we will most likely have different elasticities and optimal prices for each one </span><span class="No-Break"><span class="koboSpan" id="kobo.247.1">of them.</span></span></p>
<ol>
<li value="8"><span class="koboSpan" id="kobo.248.1">The next </span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.249.1">block of code will create a Matplotlib </span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.250.1">figure of </span><strong class="source-inline"><span class="koboSpan" id="kobo.251.1">10</span></strong><span class="koboSpan" id="kobo.252.1"> x </span><strong class="source-inline"><span class="koboSpan" id="kobo.253.1">6</span></strong><span class="koboSpan" id="kobo.254.1"> inches and fill it up with a Seaborn histogram plot that will show us the distribution of item names </span><span class="No-Break"><span class="koboSpan" id="kobo.255.1">per</span><a id="_idTextAnchor602"/><span class="koboSpan" id="kobo.256.1"> category:</span></span><pre class="console"><span class="koboSpan" id="kobo.257.1">
f, ax = plt.subplots(figsiz</span><a id="_idTextAnchor603"/><span class="koboSpan" id="kobo.258.1">e=(10, 6))</span></pre><pre class="console"><span class="koboSpan" id="kobo.259.1">
fig = sns.histplot(x='ITEM_NAME',data=data,hue='CAT', palette=['red','blue'])</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.260.1">This results in the </span><span class="No-Break"><span class="koboSpan" id="kobo.261.1">following </span><a id="_idTextAnchor604"/><span class="koboSpan" id="kobo.262.1">output:</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer122">
<span class="koboSpan" id="kobo.263.1"><img alt="Figure 5.8: Histogram of item names per category " src="image/B19026_05_8.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.264.1">Figure 5.8: Histogram of item names per category</span></p>
<p><span class="koboSpan" id="kobo.265.1">From this </span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.266.1">histogram, we can see that the burger is </span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.267.1">the only item that belongs to category </span><strong class="bold"><span class="koboSpan" id="kobo.268.1">0</span></strong><span class="koboSpan" id="kobo.269.1">, so that is sold alone. </span><span class="koboSpan" id="kobo.269.2">This means that Coke, water, and coffee are all sold in a bundle along with a burger. </span><span class="koboSpan" id="kobo.269.3">This is useful information, as it shows us the way the food truck owner sells their products, thus allowing us to think of better ways to price or combine products to be offered </span><span class="No-Break"><span class="koboSpan" id="kobo.270.1">to customers.</span></span></p>
<ol>
<li value="9"><span class="koboSpan" id="kobo.271.1">The next block of code will filter the data to only contain items that fall into </span><strong class="source-inline"><span class="koboSpan" id="kobo.272.1">CAT</span></strong><span class="koboSpan" id="kobo.273.1"> = </span><strong class="source-inline"><span class="koboSpan" id="kobo.274.1">2</span></strong><span class="koboSpan" id="kobo.275.1"> and will create a Seaborn relation plot to explain the relationship between price </span><span class="No-Break"><span class="koboSpan" id="kobo.276.1">an</span><a id="_idTextAnchor605"/><span class="koboSpan" id="kobo.277.1">d quantity:</span></span><pre class="console"><span class="koboSpan" id="kobo.278.1">
d = data[data</span><a id="_idTextAnchor606"/><span class="koboSpan" id="kobo.279.1">['CAT']==2]</span></pre><pre class="console"><span class="koboSpan" id="kobo.280.1">
sns.relplot(x=d['PRICE'],y=d['QUANTITY'],height=7,aspe</span><a id="_idTextAnchor607"/><span class="koboSpan" id="kobo.281.1">ct=1.2)</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer123">
<span class="koboSpan" id="kobo.282.1"><img alt="Figure 5.9: Price versus quality relationship for CAT = 2 items " src="image/B19026_05_9.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.283.1">Figure 5.9: Price versus quality relationship for CAT = 2 items</span></p>
<p><span class="koboSpan" id="kobo.284.1">In the </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.285.1">relationship plot shown here, we can see the </span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.286.1">relationship between price and quality in items that belong to the second category, meaning that all of them were sold as part of a combo. </span><span class="koboSpan" id="kobo.286.2">Besides the outliers, which were priced much higher than the rest of the data points, most of the items are within a certain range. </span><span class="koboSpan" id="kobo.286.3">Although we are looking at several items at the same time, we can see a certain relationship by realizing that items that were priced lower were sold in greater quantities. </span><span class="koboSpan" id="kobo.286.4">Our job will now be to dive into the specifics of these relationships at the item level in order to be able to determine the price that will maximize </span><span class="No-Break"><span class="koboSpan" id="kobo.287.1">the revenue.</span></span></p>
<ol>
<li value="10"><span class="koboSpan" id="kobo.288.1">In the next block of code, we will try to capture the changes in price and the quantities being sold over time. </span><span class="koboSpan" id="kobo.288.2">We will create a new set of data in which we will look at the prices and quantities in a normalized way by subtracting the mean and dividing it by</span><a id="_idTextAnchor608"/> <span class="No-Break"><span class="koboSpan" id="kobo.289.1">the range:</span></span><pre class="console"><span class="koboSpan" id="kobo.290.1">
d = data[['DATE','PRICE','QUANTITY']].sort_values( ['DATE'], asc</span><a id="_idTextAnchor609"/><span class="koboSpan" id="kobo.291.1">ending=True)</span></pre><pre class="console"><span class="koboSpan" id="kobo.292.1">
d['PRICE'] = (d['PRICE'] - d['PRICE'].mean())/((d['PRICE'].max() - d['PRI</span><a id="_idTextAnchor610"/><span class="koboSpan" id="kobo.293.1">CE'].min()))</span></pre><pre class="console"><span class="koboSpan" id="kobo.294.1">
d['QUANTITY'] = (d['QUANTITY'] - d['QUANTITY'].mean())/((d['QUANTITY'].max() - d['QUANTITY'].min()))</span></pre></li>
<li><span class="koboSpan" id="kobo.295.1">Once we </span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.296.1">have normalized the price and quantities </span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.297.1">on a scale that ranges from -1 to 1, we will set </span><strong class="source-inline"><span class="koboSpan" id="kobo.298.1">d['DATE']</span></strong><span class="koboSpan" id="kobo.299.1"> as the index, and finally, apply a rolling average to soften the curves, and use the plot method of the pandas </span><span class="No-Break"><span class="koboSpan" id="kobo.300.1">Dat</span><a id="_idTextAnchor611"/><span class="koboSpan" id="kobo.301.1">aFrame object:</span></span><pre class="console"><span class="koboSpan" id="kobo.302.1">
d.inde</span><a id="_idTextAnchor612"/><span class="koboSpan" id="kobo.303.1">x = d['DATE']</span></pre><pre class="console"><span class="koboSpan" id="kobo.304.1">
d = d.drop(['</span><a id="_idTextAnchor613"/><span class="koboSpan" id="kobo.305.1">DATE'],axis=1)</span></pre><pre class="console"><span class="koboSpan" id="kobo.306.1">
d.rolling(window=60).mean().plot(figsi</span><a id="_idTextAnchor614"/><span class="koboSpan" id="kobo.307.1">ze=(20,8))</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer124">
<span class="koboSpan" id="kobo.308.1"><img alt="Figure 5.10: Price versus quality relationship over time " src="image/B19026_05_10.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.309.1">Figure 5.10: Price versus quality relationship over time</span></p>
<p><span class="koboSpan" id="kobo.310.1">It is interesting to see that price reductions have always led to increases in the quantities being sold. </span><span class="koboSpan" id="kobo.310.2">In this case, we can see that the biggest price drop was in the first half of 2020, which led to an increase in the quantities being sold. </span><span class="koboSpan" id="kobo.310.3">The question that we need to ask is whether the amount of revenue that was </span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.311.1">lost by this price reduction has been compensated </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.312.1">for by an increase in the number of </span><span class="No-Break"><span class="koboSpan" id="kobo.313.1">products sold.</span></span></p>
<ol>
<li value="12"><span class="koboSpan" id="kobo.314.1">In the next block of code, we will try to dive into the correlation between the different variables and price. </span><span class="koboSpan" id="kobo.314.2">To do this, we will use both the </span><strong class="source-inline"><span class="koboSpan" id="kobo.315.1">corr()</span></strong><span class="koboSpan" id="kobo.316.1"> method of the pandas Dataframe, and the NumPy library to create a mask to “cover” the repeated values above the diagonal, as well as the </span><strong class="source-inline"><span class="koboSpan" id="kobo.317.1">matplotlib</span></strong><span class="koboSpan" id="kobo.318.1"> library to create a </span><strong class="source-inline"><span class="koboSpan" id="kobo.319.1">12</span></strong><span class="koboSpan" id="kobo.320.1"> x </span><strong class="source-inline"><span class="koboSpan" id="kobo.321.1">12</span></strong><span class="koboSpan" id="kobo.322.1">-inch figure to populate with a Se</span><a id="_idTextAnchor615"/><span class="koboSpan" id="kobo.323.1">aborn </span><span class="No-Break"><span class="koboSpan" id="kobo.324.1">heat map:</span></span><pre class="console"><span class="koboSpan" id="kobo.325.1">
imp</span><a id="_idTextAnchor616"/><span class="koboSpan" id="kobo.326.1">ort numpy as np</span></pre><pre class="console"><span class="koboSpan" id="kobo.327.1">
df_corr = data.drop(['DATE','SELLER','STORE']</span><a id="_idTextAnchor617"/><span class="koboSpan" id="kobo.328.1">,axis=1).corr()</span></pre><pre class="console"><span class="koboSpan" id="kobo.329.1">
mask = np.triu(np.ones_like(df_cor</span><a id="_idTextAnchor618"/><span class="koboSpan" id="kobo.330.1">r, dtype=bool))</span></pre><pre class="console"><span class="koboSpan" id="kobo.331.1">
df_corr = df_corr.mask</span><a id="_idTextAnchor619"/><span class="koboSpan" id="kobo.332.1">(mask).round(3)</span></pre><pre class="console"><span class="koboSpan" id="kobo.333.1">
fig, ax = plt.subplots(figsi</span><a id="_idTextAnchor620"/><span class="koboSpan" id="kobo.334.1">ze=(12,12))</span></pre><pre class="console"><span class="koboSpan" id="kobo.335.1">
sns.heatmap(df_corr, annot=</span><a id="_idTextAnchor621"/><span class="koboSpan" id="kobo.336.1">True,ax=ax)</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer125">
<span class="koboSpan" id="kobo.337.1"><img alt="Figure 5.11: Correlation between variables " src="image/B19026_05_11.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.338.1">Figure 5.11: Correlation between variables</span></p>
<p><span class="koboSpan" id="kobo.339.1">The data shown here gives us an idea of how the variables are correlated. </span><span class="koboSpan" id="kobo.339.2">We can see that there is a negative correlation between price versus temperature (people do not fancy a coffee and a burger combo when it is too hot perhaps), positive with a school break (maybe kids also buy products on these days), and a negative relationship with the weekend, which might indicate that the location of the food truck has less traffic during </span><span class="No-Break"><span class="koboSpan" id="kobo.340.1">the weekends.</span></span></p>
<p><span class="koboSpan" id="kobo.341.1">Please take </span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.342.1">these conclusions with a grain of salt, as we would </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.343.1">need to go through a case-by-case analysis by item to corroborate these assumptions, and always remember the maxima that correlation does not </span><span class="No-Break"><span class="koboSpan" id="kobo.344.1">imply causation.</span></span></p>
<p><span class="koboSpan" id="kobo.345.1">Now that we have explored the data to understand the price differences for what would otherwise have seemed like the same items, as well as to understand how this distribution looks, we can try to estimate the demand curve. </span><span class="koboSpan" id="kobo.345.2">Knowing the demand curve allows us to establish the relationship between price and quantity sold, and it’s what we will do in t</span><a id="_idTextAnchor622"/><span class="koboSpan" id="kobo.346.1">he </span><span class="No-Break"><span class="koboSpan" id="kobo.347.1">next section.</span></span></p>
<h1 id="_idParaDest-58"><a id="_idTextAnchor623"/><span class="koboSpan" id="kobo.348.1">Finding the demand curve</span></h1>
<p><span class="koboSpan" id="kobo.349.1">A demand curve in economics is a graph that depicts the relationship between the price of a specific good and the amount of that good needed at that price. </span><span class="koboSpan" id="kobo.349.2">Individual demand curves </span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.350.1">are used for price-volume interactions between individual consumers, while market-wide demand curves are utilized for all consumers (a market </span><span class="No-Break"><span class="koboSpan" id="kobo.351.1">demand curve).</span></span></p>
<p><span class="koboSpan" id="kobo.352.1">It is generally accepted that the demand curve declines because of the law of demand. </span><span class="koboSpan" id="kobo.352.2">For the majority of things, demand declines as price rises. </span><span class="koboSpan" id="kobo.352.3">This law does not apply in several peculiar circumstances. </span><span class="koboSpan" id="kobo.352.4">These include speculative bubbles, Veblen goods, and Giffen goods, and when prices rise, purchasers are drawn to </span><span class="No-Break"><span class="koboSpan" id="kobo.353.1">the products.</span></span></p>
<p><span class="koboSpan" id="kobo.354.1">Demand curves are used in combination with supply curves to establish an equilibrium price. </span><span class="koboSpan" id="kobo.354.2">At this ideal point, both sellers and buyers have achieved a mutual understanding of how valuable a good or service really is, which allows us to produce just enough to satisfy the demand without shortages </span><span class="No-Break"><span class="koboSpan" id="kobo.355.1">or excess.</span></span></p>
<h2 id="_idParaDest-59"><a id="_idTextAnchor624"/><span class="koboSpan" id="kobo.356.1">Exploring the demand curve in code</span></h2>
<p><span class="koboSpan" id="kobo.357.1">In order to find the </span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.358.1">demand curve for each one of the items, first, we will isolate the data for each item into a separate </span><span class="No-Break"><span class="koboSpan" id="kobo.359.1">data frame:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.360.1">In the next block of code, we create a DataFrame for </span><strong class="source-inline"><span class="koboSpan" id="kobo.361.1">burger_2752</span></strong><span class="koboSpan" id="kobo.362.1"> to dive into the specifics of the price versus demand relationship of this specific item, as we suspect that each item has its own spec</span><a id="_idTextAnchor625"/><span class="koboSpan" id="kobo.363.1">ific </span><span class="No-Break"><span class="koboSpan" id="kobo.364.1">demand curve:</span></span><pre class="console"><span class="koboSpan" id="kobo.365.1">
burger_2752 = data[data['ITEM_ID']==2752].drop(['</span></pre><pre class="console"><span class="koboSpan" id="kobo.366.1">
      ITEM_ID','I</span><a id="_idTextAnchor626"/><span class="koboSpan" id="kobo.367.1">TEM_NAME'],axis=1)</span></pre><pre class="console"><span class="koboSpan" id="kobo.368.1">
bur</span><a id="_idTextAnchor627"/><span class="koboSpan" id="kobo.369.1">ger_2752.head()</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer126">
<span class="koboSpan" id="kobo.370.1"><img alt="Figure 5.12: Burger data " src="image/B19026_05_12.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.371.1">Figure 5.12: Burger data</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.372.1">Once we have isolated the data, we can start to determine the relationship between price versus data. </span><span class="koboSpan" id="kobo.372.2">To do this, we will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.373.1">statsmodels</span></strong><span class="koboSpan" id="kobo.374.1"> package, specifically </span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.375.1">the </span><strong class="bold"><span class="koboSpan" id="kobo.376.1">Ordinary Least Squares</span></strong><span class="koboSpan" id="kobo.377.1"> (</span><strong class="bold"><span class="koboSpan" id="kobo.378.1">OLS</span></strong><span class="koboSpan" id="kobo.379.1">) module. </span><span class="koboSpan" id="kobo.379.2">We will analyze the relationship by passing the expected relationship as </span><strong class="source-inline"><span class="koboSpan" id="kobo.380.1">"QUANTITY ~ PRICE"</span></strong><span class="koboSpan" id="kobo.381.1"> as a parameter to the OLS function. </span><span class="koboSpan" id="kobo.381.2">This way, the OLS function will interpret </span><strong class="source-inline"><span class="koboSpan" id="kobo.382.1">Quantity</span></strong><span class="koboSpan" id="kobo.383.1"> as a dependent variable and </span><strong class="source-inline"><span class="koboSpan" id="kobo.384.1">Price</span></strong><span class="koboSpan" id="kobo.385.1"> as the independent variable. </span><span class="koboSpan" id="kobo.385.2">We could also pass other variables as dependent but for now, we will ju</span><a id="_idTextAnchor628"/><span class="koboSpan" id="kobo.386.1">st focus </span><span class="No-Break"><span class="koboSpan" id="kobo.387.1">on </span></span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.388.1">Price</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.389.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.390.1">
model = ols("QUANTITY ~ PRICE", burger_2752).fit()</span></pre></li>
<li><span class="koboSpan" id="kobo.391.1">Once the model is properly fitted to the data, we can print the slope of the relationship </span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.392.1">as the given item, </span><strong class="source-inline"><span class="koboSpan" id="kobo.393.1">price_elasticity</span></strong><span class="koboSpan" id="kobo.394.1">, as well as the other parameter</span><a id="_idTextAnchor629"/><span class="koboSpan" id="kobo.395.1">s on the </span><span class="No-Break"><span class="koboSpan" id="kobo.396.1">OLS model:</span></span><pre class="console"><span class="koboSpan" id="kobo.397.1">
price_elasticit</span><a id="_idTextAnchor630"/><span class="koboSpan" id="kobo.398.1">y = model.params[1]</span></pre><pre class="console"><span class="koboSpan" id="kobo.399.1">
print("Price elasticity of the product: " + str</span><a id="_idTextAnchor631"/><span class="koboSpan" id="kobo.400.1">(</span></pre><pre class="console"><span class="koboSpan" id="kobo.401.1">
      price_elasticity))</span></pre><pre class="console"><span class="koboSpan" id="kobo.402.1">
print(</span><a id="_idTextAnchor632"/><span class="koboSpan" id="kobo.403.1">model.summary())</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer127">
<span class="koboSpan" id="kobo.404.1"><img alt="Figure 5.13: Burger OLS model summary " src="image/B19026_05_13.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.405.1">Figure 5.13: Burger OLS model summary</span></p>
<p><span class="koboSpan" id="kobo.406.1">One of the ways in which we can analyze the model performance is by looking at the regression plots of the intercept and error. </span><span class="koboSpan" id="kobo.406.2">These are scatter plots that provide us with a sense of the relationship between dependent and independent variables in </span><span class="No-Break"><span class="koboSpan" id="kobo.407.1">linear regression.</span></span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.408.1">The next block of code will create a Matplotlib figure of </span><strong class="source-inline"><span class="koboSpan" id="kobo.409.1">12</span></strong><span class="koboSpan" id="kobo.410.1"> x </span><strong class="source-inline"><span class="koboSpan" id="kobo.411.1">8</span></strong><span class="koboSpan" id="kobo.412.1"> inches, and use </span><strong class="source-inline"><span class="koboSpan" id="kobo.413.1">statsmodels</span></strong><span class="koboSpan" id="kobo.414.1"> to create </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.415.1">the partial regression </span><a id="_idTextAnchor633"/><span class="koboSpan" id="kobo.416.1">plot for </span><span class="No-Break"><span class="koboSpan" id="kobo.417.1">the model:</span></span><pre class="console"><span class="koboSpan" id="kobo.418.1">
fig = plt.fig</span><a id="_idTextAnchor634"/><span class="koboSpan" id="kobo.419.1">ure(figsize=(12,8))</span></pre><pre class="console"><span class="koboSpan" id="kobo.420.1">
fig = sm.graphics.plot_partregress_grid</span><a id="_idTextAnchor635"/><span class="koboSpan" id="kobo.421.1">(model, fig=fig)</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer128">
<span class="koboSpan" id="kobo.422.1"><img alt="Figure 5.14: Burger OLS model partial regression plot " src="image/B19026_05_14.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.423.1">Figure 5.14: Burger OLS model partial regression plot</span></p>
<ol>
<li value="5"><span class="koboSpan" id="kobo.424.1">The next step in our analysis will be to create a function to pack the creation of the models, determine the price elasticity, and return the price elasticity and the model itself. </span><span class="koboSpan" id="kobo.424.2">This function takes the data for each it</span><a id="_idTextAnchor636"/><span class="koboSpan" id="kobo.425.1">em as </span><span class="No-Break"><span class="koboSpan" id="kobo.426.1">a parameter:</span></span><pre class="console"><span class="koboSpan" id="kobo.427.1">
def create_model_and_find</span><a id="_idTextAnchor637"/><span class="koboSpan" id="kobo.428.1">_elasticity(data):</span></pre><pre class="console"><span class="koboSpan" id="kobo.429.1">
    model = ols("QUANTITY ~ P</span><a id="_idTextAnchor638"/><span class="koboSpan" id="kobo.430.1">RICE", data).fit()</span></pre><pre class="console"><span class="koboSpan" id="kobo.431.1">
    price_elasticity</span><a id="_idTextAnchor639"/><span class="koboSpan" id="kobo.432.1"> = model.params[1]</span></pre><pre class="console"><span class="koboSpan" id="kobo.433.1">
    print("Price elasticity of the product: " + str(</span><a id="_idTextAnchor640"/><span class="koboSpan" id="kobo.434.1">price_elasticity))</span></pre><pre class="console"><span class="koboSpan" id="kobo.435.1">
    prin</span><a id="_idTextAnchor641"/><span class="koboSpan" id="kobo.436.1">t(model.summary())</span></pre><pre class="console"><span class="koboSpan" id="kobo.437.1">
    fig = plt.figu</span><a id="_idTextAnchor642"/><span class="koboSpan" id="kobo.438.1">re(figsize=(12,8))</span></pre><pre class="console"><span class="koboSpan" id="kobo.439.1">
    fig = sm.graphics.plot_partregress_gr</span><a id="_idTextAnchor643"/><span class="koboSpan" id="kobo.440.1">id(model, fig=fig)</span></pre><pre class="console"><span class="koboSpan" id="kobo.441.1">
    return price_elasticity, model</span></pre></li>
<li><span class="koboSpan" id="kobo.442.1">Now that </span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.443.1">we have defined the function, we will create two dictionaries to store the results: one for the elasticities, and the other for the models themselves. </span><span class="koboSpan" id="kobo.443.2">After this, we will loop over all the unique items in the data, apply the function to the subset of data, and finally, store the results for eac</span><a id="_idTextAnchor644"/><span class="koboSpan" id="kobo.444.1">h one of </span><span class="No-Break"><span class="koboSpan" id="kobo.445.1">the items</span><a id="_idTextAnchor645"/><span class="koboSpan" id="kobo.446.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.447.1">
elasticiti</span><a id="_idTextAnchor646"/><span class="koboSpan" id="kobo.448.1">es = {}</span></pre><pre class="console"><span class="koboSpan" id="kobo.449.1">
models = {}</span></pre><pre class="console"><span class="koboSpan" id="kobo.450.1">
for item_id in data['</span><a id="_idTextAnchor647"/><span class="koboSpan" id="kobo.451.1">ITEM_ID'].unique():</span></pre><pre class="console"><span class="koboSpan" id="kobo.452.1">
  print</span><a id="_idTextAnchor648"/><span class="koboSpan" id="kobo.453.1">('item_id',item_id)</span></pre><pre class="console"><span class="koboSpan" id="kobo.454.1">
  price_elasticity, item_model = </span></pre><pre class="console"><span class="koboSpan" id="kobo.455.1">
    create_model_and_find_elasticity(data[data[</span></pre><pre class="console"><span class="koboSpan" id="kobo.456.1">
    'ITEM_ID']==item_id])</span></pre><pre class="console">
<a id="_idTextAnchor649"/><span class="koboSpan" id="kobo.457.1">  elasticities[item_id] = price_elasticity</span></pre><pre class="console">
<a id="_idTextAnchor650"/><span class="koboSpan" id="kobo.458.1">  models[item_id]= item_model</span></pre></li>
<li><span class="koboSpan" id="kobo.459.1">After running through all the unique items, we can print the results of the elasticities for </span><span class="No-Break"><span class="koboSpan" id="kobo.460.1">each item.</span></span></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer129">
<span class="koboSpan" id="kobo.461.1"><img alt="Figure 5.15: Product items elasticities " src="image/B19026_05_15.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.462.1">Figure 5.15: Product items elasticities</span></p>
<p><span class="koboSpan" id="kobo.463.1">Now that </span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.464.1">we have determined the price elasticities for each item, we can simulate the different possible prices and find the point which </span><span class="No-Break"><span class="koboSpan" id="kobo.465.1">maximizes revenue.</span></span></p>
<h2 id="_idParaDest-60"><a id="_idTextAnchor651"/><span class="koboSpan" id="kobo.466.1">Optimizing revenue using the demand curve</span></h2>
<p><span class="koboSpan" id="kobo.467.1">Once we </span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.468.1">have established the relationship between the price and the quantity, we can simulate the revenue for each one of the possible prices. </span><span class="koboSpan" id="kobo.468.2">To do this, we will find the minimum and maximum price for each item, establish a threshold, create a range of possible prices, and use the stored model to predict the quantity sold. </span><span class="koboSpan" id="kobo.468.3">The next step is to determine the total revenue by multiplying the price by quantity. </span><span class="koboSpan" id="kobo.468.4">It is important to note that in this kind of analysis, it is always better to look at the revenue rather than the profit because most of the time, we don’t have the data for the cost of each item. </span><span class="koboSpan" id="kobo.468.5">We will explore how to do so using the </span><span class="No-Break"><span class="koboSpan" id="kobo.469.1">following steps:</span></span></p>
<ol>
<li value="1"><span class="koboSpan" id="kobo.470.1">The next block of code will take the data for </span><strong class="source-inline"><span class="koboSpan" id="kobo.471.1">burger_2752</span></strong><span class="koboSpan" id="kobo.472.1">, determine the upper and lower price boundaries, create a range using a NumPy range, and finally, use the trained model to predict the quantity sold and therefore </span><span class="No-Break"><span class="koboSpan" id="kobo.473.1">the revenue:</span></span><a id="_idTextAnchor652"/><pre class="console"><span class="koboSpan" id="kobo.474.1">
start_price = burger_2752.PRICE.min() - 1</span><a id="_idTextAnchor653"/></pre><pre class="console"><span class="koboSpan" id="kobo.475.1">
end_price = burger_2752.PRICE.max() + 10</span><a id="_idTextAnchor654"/></pre><pre class="console"><span class="koboSpan" id="kobo.476.1">
test = pd.DataFrame(columns = ["PRICE", "QUANTITY"])</span><a id="_idTextAnchor655"/></pre><pre class="console"><span class="koboSpan" id="kobo.477.1">
test['PRICE'] = np.arange(start_price, end_price,0.01)</span><a id="_idTextAnchor656"/></pre><pre class="console"><span class="koboSpan" id="kobo.478.1">
test['QUANTITY'] = models[2752].predict(test['PRICE'])</span><a id="_idTextAnchor657"/></pre><pre class="console"><span class="koboSpan" id="kobo.479.1">
test['REVENUE'] = test["PRICE"]  * test["QUANTITY"]</span><a id="_idTextAnchor658"/></pre><pre class="console"><span class="koboSpan" id="kobo.480.1">
test.head()</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer130">
<span class="koboSpan" id="kobo.481.1"><img alt="Figure 5.16: First rows of the predicted revenue for each price " src="image/B19026_05_16.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor659"/><span class="koboSpan" id="kobo.482.1">Figure 5.16: First rows of the predicted revenue for each price</span></p>
<ol>
<li value="2"><span class="koboSpan" id="kobo.483.1">To be able </span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.484.1">to visualize the relationship between the variables, regardless of the unit of measure, we will normalize the data variables by subtracting the mean and diving by the range. </span><span class="koboSpan" id="kobo.484.2">Finally, we will use the plot method to visualize </span><span class="No-Break"><span class="koboSpan" id="kobo.485.1">the data:</span></span><a id="_idTextAnchor660"/><pre class="console"><span class="koboSpan" id="kobo.486.1">
test['PRICE'] = (test['PRICE']-test['PRICE'].mean())/(test['PRICE'].max()-test['PRICE'].min())</span><a id="_idTextAnchor661"/></pre><pre class="console"><span class="koboSpan" id="kobo.487.1">
test['QUANTITY'] = (test['QUANTITY']-test['QUANTITY'].mean())/(test['QUANTITY'].max()-test['QUANTITY'].min())</span><a id="_idTextAnchor662"/></pre><pre class="console"><span class="koboSpan" id="kobo.488.1">
test['REVENUE'] = (test['REVENUE']-test['REVENUE'].mean())/(test['REVENUE'].max()-test['REVENUE'].min())</span><a id="_idTextAnchor663"/></pre><pre class="console"><span class="koboSpan" id="kobo.489.1">
test.plot(figsize=(12,8),title='Price Elasticity - Item 2752)</span></pre></li>
</ol>
<div>
<div class="IMG---Figure" id="_idContainer131">
<span class="koboSpan" id="kobo.490.1"><img alt="Figure 5.17: burger_2752 demand curve " src="image/B19026_05_17.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor664"/><span class="koboSpan" id="kobo.491.1">Figure 5.17: burger_2752 demand curve</span></p>
<p><span class="koboSpan" id="kobo.492.1">We can </span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.493.1">see from the demand curve that this item is inelastic, meaning that even if the price goes up, more of this kind of product will continue to sell. </span><span class="koboSpan" id="kobo.493.2">To get a better picture, we will repeat the same exercise for a </span><span class="No-Break"><span class="koboSpan" id="kobo.494.1">different item.</span></span></p>
<ol>
<li value="3"><span class="koboSpan" id="kobo.495.1">We will use the </span><strong class="source-inline"><span class="koboSpan" id="kobo.496.1">coffee</span></strong><span class="koboSpan" id="kobo.497.1"> data and repeat the same exercise to visualize the </span><span class="No-Break"><span class="koboSpan" id="kobo.498.1">demand curve:</span></span><a id="_idTextAnchor665"/><pre class="console"><span class="koboSpan" id="kobo.499.1">
coffee_3052 = data[data['ITEM_ID']==3052]</span><a id="_idTextAnchor666"/></pre><pre class="console"><span class="koboSpan" id="kobo.500.1">
start_price = coffee_3052.PRICE.min() - 1</span><a id="_idTextAnchor667"/></pre><pre class="console"><span class="koboSpan" id="kobo.501.1">
end_price = coffee_3052.PRICE.max() + 10</span><a id="_idTextAnchor668"/></pre><pre class="console"><span class="koboSpan" id="kobo.502.1">
test = pd.DataFrame(columns = ["PRICE", "QUANTITY"])</span><a id="_idTextAnchor669"/></pre><pre class="console"><span class="koboSpan" id="kobo.503.1">
test['PRICE'] = np.arange(start_price, end_price,0.01)</span><a id="_idTextAnchor670"/></pre><pre class="console"><span class="koboSpan" id="kobo.504.1">
test['QUANTITY'] = models[3052].predict(test['PRICE'])</span><a id="_idTextAnchor671"/></pre><pre class="console"><span class="koboSpan" id="kobo.505.1">
test['REVENUE'] = test["PRICE"]  * test["QUANTITY"]</span><a id="_idTextAnchor672"/></pre><pre class="console"><span class="koboSpan" id="kobo.506.1">
test['PRICE'] = (test['PRICE']-test['PRICE'].mean())/(test['PRICE'].max()-test['PRICE'].min())</span><a id="_idTextAnchor673"/></pre><pre class="console"><span class="koboSpan" id="kobo.507.1">
test['QUANTITY'] = (test['QUANTITY']-test['QUANTITY'].mean())/(test['QUANTITY'].max()-test['QUANTITY'].min())</span><a id="_idTextAnchor674"/></pre><pre class="console"><span class="koboSpan" id="kobo.508.1">
test['REVENUE'] = (test['REVENUE']-test['REVENUE'].mean())/(test['REVENUE'].max()-test['REVENUE'].min())</span><a id="_idTextAnchor675"/></pre><pre class="console"><span class="koboSpan" id="kobo.509.1">
test.plot(figsize=(12,8),title='Price Elasticity - Item 3052')</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.510.1">By running </span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.511.1">the preceding code, we can see that the demand curve is concave, with a negative elasticity, which means that if the price goes up, fewer units will be sold. </span><span class="koboSpan" id="kobo.511.2">Although this will create a decrease in revenue due to fewer units being sold, it also means that it will increase due to the </span><span class="No-Break"><span class="koboSpan" id="kobo.512.1">higher price.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer132">
<span class="koboSpan" id="kobo.513.1"><img alt="Figure 5.18: coffee_3052 demand curve " src="image/B19026_05_18.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor676"/></p>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.514.1">Figure 5.18: coffee_3052 demand curve</span></p>
<ol>
<li value="4"><span class="koboSpan" id="kobo.515.1">Now, we can </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.516.1">take this procedure and transform it into a function that can be applied to each item’s data to obtain the demand curve, and also determine the </span><span class="No-Break"><span class="koboSpan" id="kobo.517.1">optimal price.</span></span></li>
</ol>
<p><span class="koboSpan" id="kobo.518.1">The way in which we can determine the optimal price is quite simple. </span><span class="koboSpan" id="kobo.518.2">We just need to find the maximum value in the </span><strong class="bold"><span class="koboSpan" id="kobo.519.1">REVENUE</span></strong><span class="koboSpan" id="kobo.520.1"> column and find the optimal set of values. </span><span class="koboSpan" id="kobo.520.2">We can do this simply by using the NumPy package and the </span><strong class="source-inline"><span class="koboSpan" id="kobo.521.1">where</span></strong><span class="koboSpan" id="kobo.522.1"> clause, which will return the values at which the revenue </span><span class="No-Break"><span class="koboSpan" id="kobo.523.1">is highest:</span></span></p>
<pre class="console"><span class="koboSpan" id="kobo.524.1">
def find_optimal_price(data, model,item_id)</span><a id="_idTextAnchor677"/><span class="koboSpan" id="kobo.525.1">:
  start_price = data.PRICE.min() - </span><a id="_idTextAnchor678"/><span class="koboSpan" id="kobo.526.1">1
  end_price = data.PRICE.max() + 1</span><a id="_idTextAnchor679"/><span class="koboSpan" id="kobo.527.1">0
  test = pd.DataFrame(columns = ["PRICE", "QUANTITY"]</span><a id="_idTextAnchor680"/><span class="koboSpan" id="kobo.528.1">)
  test['PRICE'] = np.arange(start_price, end_price,0.01</span><a id="_idTextAnchor681"/><span class="koboSpan" id="kobo.529.1">)
  test['QUANTITY'] = model.predict(test['PRICE']</span><a id="_idTextAnchor682"/><span class="koboSpan" id="kobo.530.1">)
  test['REVENUE'] = test["PRICE"] * test["QUANTITY"</span><a id="_idTextAnchor683"/><span class="koboSpan" id="kobo.531.1">]
  test['P'] = (test['PRICE']-test['PRICE'].mean())/(test['PRICE'].max()-test['PRICE'].min()</span><a id="_idTextAnchor684"/><span class="koboSpan" id="kobo.532.1">)
  test['Q'] = (test['QUANTITY']-test['QUANTITY'].mean())/(test['QUANTITY'].max()-test['QUANTITY'].min()</span><a id="_idTextAnchor685"/><span class="koboSpan" id="kobo.533.1">)
  test['R'] = (test['REVENUE']-test['REVENUE'].mean())/(test['REVENUE'].max()-test['REVENUE'].min()</span><a id="_idTextAnchor686"/><span class="koboSpan" id="kobo.534.1">)
  test[['P','Q','R']].plot(figsize=(12,8),title='Price Elasticity - Item'+str(item_id)</span><a id="_idTextAnchor687"/><span class="koboSpan" id="kobo.535.1">)
  ind = np.where(test['REVENUE'] == test['REVENUE'].max())[0][0</span><a id="_idTextAnchor688"/><span class="koboSpan" id="kobo.536.1">]
  values_at_max_profit = test.drop(['P','Q','R'],axis=1).iloc[[ind]</span><a id="_idTextAnchor689"/><span class="koboSpan" id="kobo.537.1">]
  values_at_max_profit = {'PRICE':values_at_max_profit['PRICE'].values[0],'QUANTITY':values_at_max_profit['QUANTITY'].values[0],'REVENUE':values_at_max_profit['REVENUE'].values[0]</span><a id="_idTextAnchor690"/><span class="koboSpan" id="kobo.538.1">}
  return values_at_max_profit</span></pre>
<ol>
<li value="5"><span class="koboSpan" id="kobo.539.1">Now that we have the function to determine the maximum profit, we can calculate the optimal price for all items and store them in </span><span class="No-Break"><span class="koboSpan" id="kobo.540.1">a dictionary</span><a id="_idTextAnchor691"/><a id="_idTextAnchor692"/><span class="koboSpan" id="kobo.541.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.542.1">
optimal_price = {</span><a id="_idTextAnchor693"/><span class="koboSpan" id="kobo.543.1">}</span></pre><pre class="console"><span class="koboSpan" id="kobo.544.1">
for item_id in data['ITEM_ID'].unique()</span><a id="_idTextAnchor694"/><span class="koboSpan" id="kobo.545.1">:</span></pre><pre class="console"><span class="koboSpan" id="kobo.546.1">
  print('item_id',item_id</span><a id="_idTextAnchor695"/><span class="koboSpan" id="kobo.547.1">)</span></pre><pre class="console"><span class="koboSpan" id="kobo.548.1">
  optimal_price[item_id] = </span></pre><pre class="console"><span class="koboSpan" id="kobo.549.1">
    find_optimal_price(data[data['ITEM_ID']==item_id], </span></pre><pre class="console"><span class="koboSpan" id="kobo.550.1">
  models[item_id],item_id)</span></pre></li>
</ol>
<p><span class="koboSpan" id="kobo.551.1">After running </span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.552.1">this for all of the items in the data, we can determine the parameters that will maximize the revenue for the </span><span class="No-Break"><span class="koboSpan" id="kobo.553.1">food truck.</span></span></p>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor696"/></p>
<div>
<div class="IMG---Figure" id="_idContainer133">
<span class="koboSpan" id="kobo.554.1"><img alt="Figure 5.19: item_6249 demand curve " src="image/B19026_05_19.jpg"/></span>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.555.1">Figure 5.19: item_6249 demand curve</span></p>
<p><span class="koboSpan" id="kobo.556.1">We can see for the other two items left to be analyzed that their elasticity is also negative, implicating that the higher the price, the lower the number of units </span><span class="No-Break"><span class="koboSpan" id="kobo.557.1">sold is.</span></span></p>
<div>
<div class="IMG---Figure" id="_idContainer134">
<span class="koboSpan" id="kobo.558.1"><img alt="Figure 5.20: item_4273 demand curve " src="image/B19026_05_20.jpg"/></span>
</div>
</div>
<p class="IMG---Figure"><a id="_idTextAnchor697"/></p>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.559.1">Figure 5.20: item_4273 demand curve</span></p>
<ol>
<li value="6"><span class="koboSpan" id="kobo.560.1">Now that </span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.561.1">we have the optimal prices, we can print the parameters that lead to a maximization of the revenue. </span><span class="koboSpan" id="kobo.561.2">The next block of code iterates over the </span><span class="No-Break"><strong class="source-inline"><span class="koboSpan" id="kobo.562.1">optimal_price</span></strong></span><span class="No-Break"><span class="koboSpan" id="kobo.563.1"> dictionary</span><a id="_idTextAnchor698"/><span class="koboSpan" id="kobo.564.1">:</span></span><pre class="console"><span class="koboSpan" id="kobo.565.1">
for item_id in optimal_price</span><a id="_idTextAnchor699"/><span class="koboSpan" id="kobo.566.1">:</span></pre><pre class="console"><span class="koboSpan" id="kobo.567.1">
  print(item_id,optimal_price[item_id])</span></pre><div class="IMG---Figure" id="_idContainer135"><span class="koboSpan" id="kobo.568.1"><img alt="Figure 5.21: Optimal parameters for each item " src="image/B19026_05_21.jpg"/></span></div></li>
</ol>
<p class="IMG---Figure"><a id="_idTextAnchor700"/></p>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US"><span class="koboSpan" id="kobo.569.1">Figure 5.21: Optimal parameters for each item</span></p>
<p><span class="koboSpan" id="kobo.570.1">In this way, we can </span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.571.1">determine the optimal price, regardless of the item’s characteristics, and how much the customers are willing to pay for </span><span class="No-Break"><span class="koboSpan" id="kobo.572.1">each item</span><a id="_idTextAnchor701"/><span class="koboSpan" id="kobo.573.1">.</span></span></p>
<h1 id="_idParaDest-61"><a id="_idTextAnchor702"/><span class="koboSpan" id="kobo.574.1">Summary</span></h1>
<p><span class="koboSpan" id="kobo.575.1">In this chapter, we dived into the relationship between the price of an item and the number of items being sold. </span><span class="koboSpan" id="kobo.575.2">We studied that different items have different demand curves, which means that in most cases, a higher price leads to the least items being sold, but this is not always the case. </span><span class="koboSpan" id="kobo.575.3">The relationship between price and quantity being sold can be modeled using price elasticity, which gives us an idea of how much the number of products being sold will be reduced by a given increase in </span><span class="No-Break"><span class="koboSpan" id="kobo.576.1">the price.</span></span></p>
<p><span class="koboSpan" id="kobo.577.1">We looked into the food truck sales data in order to determine the best price for each one of their items and we discovered that these items have different elasticities and that for each item, we can determine the price, which will maximize </span><span class="No-Break"><span class="koboSpan" id="kobo.578.1">the revenue.</span></span></p>
<p><span class="koboSpan" id="kobo.579.1">In the next chapter, we will focus on improving the way we bundle and recommend products by looking at how to perform a Market Basket analysis to recommend meaningful products that are frequently </span><span class="No-Break"><span class="koboSpan" id="kobo.580.1">bought together.</span></span></p>
</div>
</body></html>