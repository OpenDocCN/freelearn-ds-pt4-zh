["```py\n$ curl \"https://awscli.amazonaws.com/AWSCLIV2.pkg\" -o \"AWSCLIV2.pkg\"\n$ sudo installer -pkg AWSCLIV2.pkg -target\n```", "```py\n$ curl \"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\" -o \"awscliv2.zip\"\n$ unzip awscliv2.zip\n$ sudo ./aws/install\n```", "```py\n    $ aws --version\n    ```", "```py\naws-cli/2.4.7 Python/3.8.8 Linux/5.11.0-41-generic exe/x86_64.ubuntu.20 prompt/off\n```", "```py\n    $ aws configure\n    ```", "```py\nAWS Access Key ID [None]: YOURACCESSKEYHERE\nAWS Secret Access Key [None]: YOURSECRETACCESSKEYHERE\nDefault region name [None]: us-east-1\nDefault output format [None]: json\n```", "```py\n    $ export AWS_ACCESS_KEY_ID=YOURACCESSKEY2HERE\n    $ export AWS_SECRET_ACCESS_KEY=YOURSECRETACCESS2KEYHERE \n    $ export AWS_DEFAULT_REGION=us-west-2\n    ```", "```py\n$ brew install aws-iam-authenticator\n```", "```py\n$ curl -o aws-iam-authenticator https://amazon-eks.s3.us-west-2.amazonaws.com/1.19.6/2021-01-05/bin/linux/amd64/aws-iam-authenticator\n$ chmod +x ./aws-iam-authenticator\n$ mkdir -p $HOME/bin && cp ./aws-iam-authenticator $HOME/bin/aws-iam-authenticator && export PATH=$PATH:$HOME/bin\n$ echo 'export PATH=$PATH:$HOME/bin' >> ~/.bashrc\n```", "```py\n    $ aws-iam-authenticator version\n    ```", "```py\n{\"Version\":\"v0.5.0\",\"Commit\":\"1cfe2a90f68381eacd7b6dcfa2 bf689e76eb8b4b\"}\n```", "```py\n$ brew tap weaveworks/tap\n$ brew install weaveworks/tap/eksctl\n```", "```py\n$ curl --silent --location \"https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz\" | tar xz -C /tmp\n$ sudo mv /tmp/eksctl /usr/local/bin\n```", "```py\n    $ eksctl version\n    ```", "```py\n0.77.0\n```", "```py\n$ brew tap weaveworks/tap\n$ brew install weaveworks/tap/eksctl\n```", "```py\n$ curl https://sdk.cloud.google.com | bash\n```", "```py\n    $ exec -l $SHELL\n    ```", "```py\n    $ gcloud version\n    ```", "```py\nGoogle Cloud SDK 367.0.0\nbq 2.0.72\ncore 2021.12.10\ngsutil 5.5\n```", "```py\n    $ gcloud init\n    ```", "```py\n    $ gcloud config set compute/zone us-central1-a\n    ```", "```py\n$ brew update && brew install azure-cli\n$ brew install jq\n```", "```py\n$ curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash\n$ sudo apt-get install jq\n```", "```py\n    $ az version\n    ```", "```py\n{\n  \"azure-cli\": \"2.31.0\",\n  \"azure-cli-core\": \"2.31.0\",\n  \"azure-cli-telemetry\": \"1.0.6\",\n  \"extensions\": {}\n}\n```", "```py\n    $ az login\n    ```", "```py\n    $ az group create --name=\"pachyderm-group\" --location=centralus\n    ```", "```py\n    $ eksctl create cluster\n    ```", "```py\n...\nkubectl command should work with \"/home/norton/.kube/config\", try 'kubectl get nodes'\n[✔]  EKS cluster \"exciting-badger-1620255089\" in \"us-east-1\" region is ready\n```", "```py\n    $ kubectl cluster-info && kubectl get nodes\n    ```", "```py\nKubernetes control plane is running at https://ABCD.gr7.us-east-1.eks.amazonaws.com\nCoreDNS is running at https://ABCD.gr7.us-east-1.eks.amazonaws.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\nNAME                             STATUS   ROLES    AGE    VERSION\nip-192-168-17-133.ec2.internal   Ready    <none>   21m    v1.21.5-eks-bc4871b \nip-192-168-63-179.ec2.internal   Ready    <none>   21m    v1.21.5-eks-bc4871b\n```", "```py\n    $ export S3_BUCKET_NAME=s3.pachyderm\n    $ export EBS_STORAGE_SIZE=200\n    $ export AWS_REGION=us-east-1\n    ```", "```py\n    $ aws s3api create-bucket --bucket ${S3_BUCKET_NAME} \\\n    --region ${AWS_REGION}\n    ```", "```py\n    $ aws s3api list-buckets --query 'Buckets[].Name'\n    ```", "```py\n[\n    \"s3.pachyderm\",\n]\n```", "```py\n    {\n        \"Statement\": [\n            {\n                \"Effect\": \"Allow\",\n                \"Action\": [\n                    \"s3:PutObject\",\n                    \"s3:GetObject\",\n                    \"s3:ListBucket\",\n                    \"s3:DeleteObject\"\n                ],\n                \"Resource\": [\n                    \"arn:aws:s3:::<s3-bucket>\",\n                    \"arn:aws:s3:::*/*\"\n                ]\n            }\n        ]\n    }\n    ```", "```py\n    {\n      \"Version\": \"2012-10-17\",\n      \"Statement\": [\n        {\n          \"Effect\": \"Allow\",\n          \"Principal\": {\n            \"Service\": \"ec2.amazonaws.com\"\n          },\n          \"Action\": \"sts:AssumeRole\"\n        }\n      ]\n    }\n    ```", "```py\n    $ helm repo add pach https://helm.pachyderm.com  \n    ```", "```py\n    $ helm repo update\n    ```", "```py\n    $ helm install pachd pach/pachyderm \\ \n    --set deployTarget=AMAZON \\\n    --set pachd.storage.amazon.bucket=\"AWS_S3_BUCKET\" \\\n    --set pachd.storage.amazon.id=\"AWS_ACCESS_KEY\" \\\n    --set pachd.storage.amazon.secret=\"AWS_SECRET\" \\\n    --set pachd.storage.amazon.region=\"us-east-1\"\n    --set pachd.externalService.enabled=true\n    ```", "```py\n$ helm install pachd pach/pachyderm \\ \n--set deployTarget=AMAZON \\\n--set pachd.storage.amazon.bucket=\"AWS_S3_BUCKET\" \\\n--set pachd.storage.amazon.id=\"AWS_ACCESS_KEY\" \\\n--set pachd.storage.amazon.secret=\"AWS_SECRET\" \\\n--set pachd.storage.amazon.region=\"us-east-1\" \\\n--set pachd.enterpriseLicenseKey=$(cat license.txt) \\\n--set console.enabled=true\n```", "```py\n    $ kubectl get deployments\n    ```", "```py\n    $ kubectl get pods\n    ```", "```py\n    $ kubectl get pv\n    ```", "```py\nNAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                         STORAGECLASS         REASON   AGE\npvc-cab1f435-02fb-42df-85d9-d49f6151b281   200Gi      RWO             Delete           Bound    default/etcd-storage-etcd-0   etcd-storage-class            81m\n```", "```py\n    $ pachctl version\n    ```", "```py\nCOMPONENT           VERSION\npachctl             2.0.0\npachd               2.0.0\n```", "```py\n    $ helm ls | grep pachyderm\n    ```", "```py\npachd    default         1               2021-12-27 20:20:33.168535538 -0800 PST deployed        pachyderm-2.0.0    2.0.0\n```", "```py\n    $ helm uninstall pachd\n    ```", "```py\n    $ eksctl get cluster\n    ```", "```py\n2021-05-05 21:53:56 [ℹ]  eksctl version 0.47.0\n2021-05-05 21:53:56 [ℹ]  using region us-east-1\nNAME                            REGION          EKSCTL CREATED\nexciting-badger-1620255089      us-east-1       True\n```", "```py\n    $ eksctl delete cluster --name <name>  \n    ```", "```py\n...\n2021-05-05 22:00:54 [ℹ]  will delete stack \"eksctl-exciting-badger-1620255089-cluster\"\n2021-05-05 22:00:54 [✔]  all cluster resources were deleted\n```", "```py\n    $ gcloud container clusters create pachyderm-cluster \\\n    --scopes compute-rw,storage-rw,service-management,service-control,logging-write,monitoring \\\n    --machine-type n2-standard-4\n    ```", "```py\n...\nkubeconfig entry generated for pachyderm-cluster.\nNAME               LOCATION       MASTER_VERSION    MASTER_IP      MACHINE_TYPE   NODE_VERSION      NUM_NODES  STATUS\npachyderm-cluster  us-central1-a  1.18.16-gke.2100  35.238.200.52  n2-standard-4  1.18.16-gke.2100  1          RUNNING\n```", "```py\n    $ kubectl cluster-info && kubectl get nodes\n    ```", "```py\nKubernetes control plane is running at https://<IP_ADDRESS>\nGLBCDefaultBackend is running at https://<IP_ADDRESS>/api/v1/namespaces/kube-system/services/default-http-backend:http/proxy\nKubeDNS is running at https://<IP_ADDRESS>/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\nMetrics-server is running at https://<IP_ADDRESS>/api/v1/namespaces/kube-system/services/https:metrics-server:/proxy\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\nNAME                                               STATUS    ROLES    AGE     VERSION\ngke-pachyderm-cluster-default-pool-26cf3a77-1vr1   Ready    <none>   12      v1.18.16-gke.2100\ngke-pachyderm-cluster-default-pool-26cf3a77-5sgs   Ready    <none>   12m     v1.18.16-gke.2100\ngke-pachyderm-cluster-default-pool-26cf3a77-lkr4   Ready    <none>   12m     v1.18.16-gke.2100\n```", "```py\n    $ export GCS_BUCKET_NAME=pachyderm-bucket\n    $ export GKE_STORAGE_SIZE=200\n    ```", "```py\n    $ gsutil mb gs://${GCS_BUCKET_NAME}\n    ```", "```py\n    $ gsutil ls\n    ```", "```py\ngs://pachyderm-bucket/\n```", "```py\n    $ gcloud iam service-accounts create my-service-account --display-name=my-account\n    ```", "```py\n    $ gcloud projects add-iam-policy-binding \\\n    pachyderm-book –role roles/owner --member \\\n    serviceAccount:my-service-account@pachyderm-book.iam.gserviceaccount.com    \n    ```", "```py\n    $ helm repo add pach https://helm.pachyderm.com  \n    ```", "```py\n    $ helm repo update\n    ```", "```py\n    $ helm install pachd pach/pachyderm \\ \n    --set deployTarget=GOOGLE \\\n    --set pachd.storage.google.bucket=\"GOOGLE_BUCKET\" \\\n    --set pachd.storage.google.cred=\"GOOGLE_CRED\" \\\n    --set pachd.externalService.enabled=true\n    ```", "```py\n$ helm install pachd pach/pachyderm \\ \n--set deployTarget=GOOGLE \\\n--set pachd.storage.google.bucket=\"GOOGLE_BUCKET\" \\\n--set pachd.storage.google.cred=\"GOOGLE_CRED\" \\\n--set pachd.enterpriseLicenseKey=$(cat license.txt) \\\n--set console.enabled=true\n```", "```py\n    $ kubectl get deployments\n    ```", "```py\nNAME    READY   UP-TO-DATE   AVAILABLE   AGE\ndash    1/1     1            1           44s\npachd   1/1     1            1           45s \n```", "```py\n    $ kubectl get Pods\n    ```", "```py\nNAME                    READY  STATUS   RESTARTS  AGE\ndash-cf6f47d7d-xpvvp    2/2    Running  0         104s\netcd-0                  1/1    Running  0         104s\npachd-6c99f6fb7-dnjhn   1/1    Running  0         104s\n```", "```py\n    $ kubectl get pv\n    ```", "```py\nNAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                         STORAGECLASS         REASON   AGE\npvc-c4eac147-8571-4ccb-8cd0-7c1cb68a627d 200Gi      RWO            Delete           Bound    default/etcd-storage-etcd-0   etcd-storage-class            3m4s\n```", "```py\n    $ pachctl version\n    ```", "```py\nCOMPONENT           VERSION\npachctl             2.0.0\npachd               2.0.0\n```", "```py\n    $ helm ls | grep pachyderm\n    ```", "```py\npachd    default         1               2021-12-27 20:20:33.168535538 -0800 PST deployed        pachyderm-2.0.0    2.0.0\n```", "```py\n    $ helm uninstall pachd\n    ```", "```py\n    $ gcloud container clusters list\n    ```", "```py\nNAME               LOCATION       MASTER_VERSION    MASTER_IP      MACHINE_TYPE   NODE_VERSION      NUM_NODES  STATUS\npachyderm-cluster  us-central1-a  1.18.16-gke.2100  35.238.200.52  n2-standard-2  1.18.16-gke.2100  3          RUNNING\n```", "```py\n    $ gcloud container clusters delete <name> \n    ```", "```py\n...\nDeleting cluster pachyderm-cluster...done.\nDeleted [https://container.googleapis.com/v1/projects/pachydermbook/zones/us-central1-a/clusters/pachyderm-cluster]. \n```", "```py\n    $ az aks create --resource-group pachyderm-group --name pachyderm-cluster --generate-ssh-keys --node-vm-size Standard_DS4_v2\n    ```", "```py\n...\n   \"privateFqdn\": null,\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"pachyderm-group\",\n  \"servicePrincipalProfile\": {\n    \"clientId\": \"msi\",\n    \"secret\": null\n  },...\n```", "```py\n    $ az aks get-credentials --resource-group pachyderm-group --name pachyderm-cluster\n    ```", "```py\n    $ kubectl get nodes\n    ```", "```py\nNAME                                STATUS   ROLES   AGE     VERSION\naks-nodepool1-34139531-vmss000000   Ready    agent   5m57s   v1.19.9\naks-nodepool1-34139531-vmss000001   Ready    agent   5m58s   v1.19.9\naks-nodepool1-34139531-vmss000002   Ready    agent   5m58s   v1.19.9\n```", "```py\n    $ export RESOURCE_GROUP=pachyderm-group\n    $ export STORAGE_ACCOUNT=pachydermstorageaccount\n    $ export CONTAINER_NAME=pachydermblobcontainer\n    $ export AZURE_STORAGE_SIZE=200\n    ```", "```py\n    $ az storage account create \\\n    --resource-group=\"${RESOURCE_GROUP}\" \\\n      --location=\"centralus\" \\\n      --sku=Premium_LRS \\\n      --name=\"${STORAGE_ACCOUNT}\" \\\n      --kind=BlockBlobStorage\n    ```", "```py\n    $ az storage account list\n    ```", "```py\n...\n    \"web\": \"https://pachydermstorageaccount.z19.web.core.windows.net/\"\n  },\n  \"primaryLocation\": \"centralus\",\n  \"privateEndpointConnections\": [],\n  \"provisioningState\": \"Succeeded\",\n  \"resourceGroup\": \"pachyderm-group\",\n...\n```", "```py\n    $ STORAGE_KEY=\"$(az storage account keys list \\\n                  --account-name=\"${STORAGE_ACCOUNT}\" \\\n                  --resource-group=\"${RESOURCE_GROUP}\" \\\n    --output=json \\\n                  | jq '.[0].value' -r\n                )\"\n    ```", "```py\n    $ az storage container create --name ${CONTAINER_NAME} \\\n              --account-name ${STORAGE_ACCOUNT} \\\n              --account-key \"${STORAGE_KEY}\"\n    ```", "```py\n{\n  \"created\": true\n}\n```", "```py\n    $ az aks get-credentials --resource-group pachyderm-group --name pachyderm-cluster\n    ```", "```py\n    $ helm install pachd pach/pachyderm \\ \n    --set deployTarget=MICROSOFT \\\n    --set pachd.storage.microsoft.container=\"CONTAINER_NAME\" \\\n    --set pachd.storage.microsoft.id=\"AZURE_ID\" \\\n    --set pachd.storage.microsoft.secret=\"AZURE_SECRET\" \\\n    --set pachd.externalService.enabled=true\n    ```", "```py\n$ helm install pachd pach/pachyderm \\ \n--set deployTarget=MICROSOFT \\\n--set pachd.storage.microsoft.container=\"CONTAINER_NAME\" \\\n--set pachd.storage.microsoft.id=\"AZURE_ID\" \\\n--set pachd.storage.microsoft.secret=\"AZURE_SECRET\" \\\n--set pachd.enterpriseLicenseKey=$(cat license.txt) \\\n--set console.enabled=true\n```", "```py\n    $ kubectl get deployments\n    ```", "```py\nNAME    READY   UP-TO-DATE   AVAILABLE   AGE\ndash    1/1     1            1           39s\npachd   1/1     1            1           39s \n```", "```py\n    $ kubectl get pods\n    ```", "```py\nNAME                    READY   STATUS    RESTARTS   AGE\ndash-866fd997-z79jj     2/2     Running   0          54s\netcd-0                  1/1     Running   0          54s\npachd-8588c44f56-skmkl  1/1     Running   0          54 s\n```", "```py\n    $ kubectl get pv\n    ```", "```py\nNAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                         STORAGECLASS   REASON   AGE\npvc-9985a602-789d-40f3-9249-7445a9c15bc3   200Gi      RWO            Delete           Bound    default/etcd-storage-etcd-0   default                 89s\n```", "```py\n    $ pachctl version\n    ```", "```py\nCOMPONENT           VERSION\npachctl             2.0.0\npachd               2.0.0\n```", "```py\n    $ helm ls | grep pachyderm\n    ```", "```py\npachd    default         1               2021-12-27 20:20:33.168535538 -0800 PST deployed        pachyderm-2.0.0    2.0.0\n```", "```py\n    $ helm uninstall pachd\n    ```", "```py\n    $ az aks list\n    ```", "```py\n...\n    \"location\": \"centralus\",\n    \"maxAgentPools\": 100,\n    \"name\": \"pachyderm-cluster\",\n    \"networkProfile\": {\n…\n```", "```py\n    $ az aks delete --name <name> --resource-group pachyderm-group\n    ```", "```py\n...\nDeleting cluster pachyderm-cluster...done.\nDeleted [https://container.googleapis.com/v1/projects/pachydermbook/zones/us-central1-a/clusters/pachyderm-cluster]. \n```"]